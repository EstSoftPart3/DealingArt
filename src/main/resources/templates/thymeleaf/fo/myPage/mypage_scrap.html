<!DOCTYPE HTML>
<html lang="ko" xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">
<head>
	<title>딜링아트</title>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="initial-scale=1,user-scalable=no,maximum-scale=1,width=device-width">
	<meta name="mobile-web-app-capable" content="yes">
	<meta name="apple-mobile-web-app-capable" content="yes">
	<meta name="theme-color" content="#000000">
	
	<meta name="author" content="">
	<meta name="keywords" content="미술,아트,경매,수수료,정찰,운송,보험,직거래,dealingart">
	<meta name="description" content="미술품 거래의 새로운 트렌드">
	<meta property="og:description" content="미술품 거래의 새로운 트렌드">
	<meta property="og:type" content="website">
	<meta property="og:title" content="딜링아트">
	<meta property="og:image" content="https://www.dealing-art.com/resources/img/DA_logo_og.png">
	<meta property="og:url" content="https://www.dealing-art.com">
	
	<meta name="robots"content="noindex">
	
	<!-- google -->
    <meta name="google-site-verification" content="EKiW_Lm3Qw-DYnLT9qokEpZT2Sa8tSQuVWhVEvs4kPk" />
    <!-- faceBook -->
    <meta name="facebook-domain-verification" content="bgotqya9tcsrgrmspnq0uywh85kjzh" />
    
    <!-- Global site tag (gtag.js) - Google Analytics -->
	<!-- HTML의 <head> 섹션에 전체 사이트 태그를 복사합니다. -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=G-WRJBSR52MT"></script>
	
	<script>
	  window.dataLayer = window.dataLayer || [];
	  function gtag(){dataLayer.push(arguments);}
	  gtag('js', new Date());
	
	  gtag('config', 'G-WRJBSR52MT');
	</script>
	
	<!-- Google Tag Manager -->
	<!-- 페이지의 <head>에서 가능한 한 높은 위치에 코드를 붙여넣으세요. -->
	<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
	new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
	j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
	'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
	})(window,document,'script','dataLayer','GTM-NBP5CQ9');</script>
	<!-- End Google Tag Manager -->
			
	<!-- Google Tag Manager (noscript) -->
	<!-- 또한 여는 <body> 태그 바로 뒤에 코드를 붙여넣으세요. -->
	<noscript>
		<iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NBP5CQ9"height="0" width="0" style="display:none; visibility:hidden"></iframe>
	</noscript>
	<!-- End Google Tag Manager (noscript) -->
	
	
	<!-- 페이스북 Meta Pixel Code -->
	<script>
	  !function(f,b,e,v,n,t,s)
	  {if(f.fbq)return;n=f.fbq=function(){n.callMethod?
	  n.callMethod.apply(n,arguments):n.queue.push(arguments)};
	  if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
	  n.queue=[];t=b.createElement(e);t.async=!0;
	  t.src=v;s=b.getElementsByTagName(e)[0];
	  s.parentNode.insertBefore(t,s)}(window, document,'script',
	  'https://connect.facebook.net/en_US/fbevents.js');
	  fbq('init', '5995234030505207');
	  fbq('track', 'PageView');
	</script>
	<noscript><img height="1" width="1" style="display:none" src="https://www.facebook.com/tr?id=5995234030505207&ev=PageView&noscript=1"/></noscript>
    
    <style>
    	.head-wrap{border-bottom:#e9e9e9 1px solid;}
    	.swi-box::before{background-color:#f9f9f9;}
    	.footer-wrap{margin-top:0;}
    	.hd-div{background-color:#fff;}
    	[name=COLLworkClrCd]:checked+label{
		  outline: 5px solid gray;
		}
		[name=WORKworkClrCd]:checked+label{
		  outline: 5px solid gray;
		}
		/* Chrome, Safari, Edge, Opera */
		input::-webkit-outer-spin-button,
		input::-webkit-inner-spin-button {
		  -webkit-appearance: none;
		  margin: 0;
		}
		/* Firefox */
		input[type=number] {
		  -moz-appearance: textfield;
		}
    	.swiper-slide{background-color:rgb(255 255 255 / 0%);}
    	.modal-body {
   			max-height: calc(100vh - 180px); 
   			overflow-y: auto;
   		}
   		
   		.post-body {
		  -webkit-user-drag: none;
		  -webkit-touch-callout: none;
		  -khtml-user-select: none;
		  -moz-user-select: none;
		  -ms-user-select: none;
		  user-select: none;
		}
		
		/* #lp_mgz9Dtl { font-size: 12px; } */
		
		.no-drag {-ms-user-select: none; -moz-user-select: -moz-none; -webkit-user-select: none; -khtml-user-select: none; user-select:none;}

    </style>
    
    <link rel="icon" type="image/png" href="/resources/img/favicon.png">
    <link type="text/css" rel="stylesheet" href="/resources/css/common_new.css"/>
</head>
<body>
	<th:block th:replace="thymeleaf/header :: headerFragment"></th:block>
    <div id="container">
        <div class="mypage_wrap">
            <h2>스크랩</h2>
            <div class="mypage_contents">
                <div id = "left_menu"></div>
                <div class="contents_right">
                    <div class="mypage_search_wrap">
                        <div class="search width100per">
                            <label for="search_input" class="hidden">검색</label>
                            <input type="text" id="search_input" placeholder="검색어를 입력해 주세요.">
                            <button class="btn_mypage_search right20" onclick="fnSearch()"></button>                           
                        </div>
                    </div>
                    <div class="mypage_tap_wrap" id="tap_scrap">
                        <ul class="tap_scrap">
                        	<li id="btn_nal1" class="on bg_no" onclick="tapChange('myWork');"></li>
                        	<li id="btn_nal2" onclick="tapChange('DEAL');"></li>
                        	<li id="btn_nal3" onclick="tapChange('BOA');"></li>
                        	<li id="btn_nal4" onclick="tapChange('EXH');"></li>
                        	<li id="btn_nal5" class="bg_no" onclick="tapChange('ISS');"></li>
                        	<!-- <li id="btn_nal6"  class="bg_no" onclick="tapChange('MDA');"></li> -->
                            <!-- <li class="on bg_no">나의 작품(5)</li>
                            <li>자랑하기(50)</li>
                            <li>전시후기/소개(29)</li>
                            <li>이슈(5)</li>
                            <li>인사이트(5)</li>
                            <li class="bg_no">아티스트 필름</li> -->
                        </ul>
                    </div>     
                    <div class="mypage_scrap_contents_row">
                    	<div class="scrap_wrap" id="listBox">
                        
                        </div>
                    </div>
                    <div class="btn_area">
                        <button type="button" onclick="scrapSearchMore()">더보기</button>
                    </div>   
              </div>
            </div>
        </div>
    </div>
    <th:block th:replace="thymeleaf/footer :: footerFragment"></th:block>
    <script type="text/javascript">
    
    var obj = new Object();
	var limit = 9;
	var more = 0;
	var scrapGbCd = 'myWork';
	var searchWord = '';
	
	$("document").ready(function(){
		
		$("#left_menu").load("/myPage/mypage_common_left");  // 레프트 메뉴 삽입
		
		//나의 작품 조회
		scrapList(scrapGbCd);
	});
	
	//탭 클릭 이벤트
	function tapChange(scrapGbCd1){
		more = 0;
		scrapGbCd = scrapGbCd1;
		
		$(".tap_scrap li").removeClass("on bg_no");
		
		if(scrapGbCd == "myWork"){
			$("#btn_nal1").addClass("on bg_no");
			scrapList("myWork");
		}else if(scrapGbCd == "DEAL"){
			$("#btn_nal2").addClass("on bg_no");
			scrapList("DEAL");
		}else if(scrapGbCd == "BOA"){
			$("#btn_nal3").addClass("on bg_no");
			scrapList("BOA");
		}else if(scrapGbCd == "EXH"){
			$("#btn_nal4").addClass("on bg_no");
			scrapList("EXH");
		}else if(scrapGbCd == "ISS"){
			$("#btn_nal5").addClass("on bg_no");
			scrapList("ISS");
		}
	}
	
	//스크랩 목록 조회
	function scrapList(scrapGbCd){
		obj.limit = 9 + (more*3);
		obj.scrapGbCd = scrapGbCd;
		obj.searchWord = searchWord;
		
		$.ajax({
			type: "POST",
			url: "/myPage/selectScrap",
			data: obj,
			success: (function(response){
				
				if (response.result.length > 0) {
					if (scrapGbCd == "myWork") {
						setScrapMyWorkHtml(response.result);
					}else if (scrapGbCd == "DEAL") {
						setScrapDEALHtml(response.result);
					}else if (scrapGbCd == "BOA") {
						setScrapBOAHtml(response.result);
					}else if (scrapGbCd == "EXH") {
						setScrapEXHHtml(response.result);
					}else if (scrapGbCd == "ISS") {
						setScrapISSHtml(response.result);
					}
				}else{
					modalAlertShow("검색 결과가 없습니다."); 
					$(".scrap_wrap").empty();
				}
				
				
				setScrapCnt(response.myWorkTotal, response.myDEALTotal, response.myBOATotal, response.myEXHTotal, response.myISSTotal);
			}),
			error: (function(response){
				console.log(response);
			})
		})
		
		
		
		
	}
	
	//나의작품 스크랩 목록 뿌려주기
	function setScrapMyWorkHtml(list){
		
		result = list;
		
		if(result.length > 0){
    		var workListHtml = '';
    		workListHtml += '<div  id="columns2" class="grid" style= "text-align: center;margin-top: 100px;">';
    		for(var i=0; i<result.length; i++){
				var z = i+1
				var gtText = "gt"+z;
				
				workListHtml += '<div class="griditem '+gtText+'" style="border:0px solid #222;">';
				workListHtml += '<div >';
				workListHtml += '<div class="item-div-img" onclick="workDetail('+ result[i].workSq +')" style="cursor:pointer;">';
				//작품 이미지
				workListHtml += '<img src="'+ result[i].workMainImgUrl +'" class="pseudo-img" style="max-width:360px; max-height:600px; width:100%; height:100%;">';
				
				workListHtml += '</div>';
				workListHtml += '<div class="item-body">';
				workListHtml += '<div class="heart on" workSq="'+ result[i].workSq +'" style="cursor:pointer;"></div>';
				workListHtml += '<div>';
				workListHtml += '<div class="uesr-s">';
				if(result[i].artstProfileImgUrl == null || result[i].artstProfileImgUrl == ""){
 				workListHtml += '<img src="/resources/img/de/ues-icon.png"/>';
     			}else{
     				workListHtml += '<img src="'+ result[i].artstProfileImgUrl +'" style="width:42px;border-radius: 7px;-moz-border-radius: 7px;-khtml-border-radius: 7px;-webkit-border-radius: 7px"/>';
     			}
				workListHtml += '</div>';
				
				workListHtml += '<div class="text-s" style="padding-left:5px;text-align:left">';
				//workListHtml += '<h3>'+ result[i].artstActvtyNm +' ('+ result[i].artstBirthYear +')</h3>';
				workListHtml += '<h3>'+ result[i].artstActvtyNm +' ('+ result[i].artstBirthYear +')</h3>';
				workListHtml += '<p class="ts-1">'+ result[i].workNm +' ('+ result[i].workProdcYear +')</p>';
				workListHtml += '<p>'+ result[i].workMatrl +'</p>';
				workListHtml += '<p>'+ result[i].workSizeDepth +'x'+ result[i].workSizeWidth +'</p>';
				workListHtml += '</div>'
				
				workListHtml += '</div>';
				
				if(result[i].workTpyCd == "WORK"){
 				workListHtml += '<div class="artist active"><span>Artist</span></div>';
 				}
 				if(result[i].workTpyCd == "COLL"){
 				workListHtml += '<div class="artist"><span>Artist</span></div>';
 				}
				workListHtml += '</div>';
				workListHtml += '</div>';
				workListHtml += '</div>';
			}
    		workListHtml += '</div>';
    		
			$(".scrap_wrap").empty();
			$(".scrap_wrap").append(workListHtml).trigger("create");
			masonryLayout();
		}
	}
	//거래 HTML 뿌려주기
	function setScrapDEALHtml(list){
		result = list;
		if(result.length > 0){
    		var workListHtml = '';
    		workListHtml += '<div  id="columns2" class="grid" style= "text-align: center;margin-top: 100px;">';
    		for(var i=0; i<result.length; i++){
				var z = i+1
				var gtText = "gt"+z;
				
				//경매
				if(result[i].dealTypCd == "A" && result[i].dealSttsCd == "TP"){
					workListHtml += '<figure class="item griditem '+gtText+'" style="border:0px solid #222;">';
					workListHtml += '	<!-- active하고 hover하면 나오고 /  sale 넣고 hover하면나옵니다 / auction hover -->';
					workListHtml += '	<div class="item-div-img active"><!-- 0823 start chediv 추가 -->';
					workListHtml += '		<img src="'+result[i].workMainImgUrl+'" class="pseudo-img" style="max-width:360px; max-height:600px; width:100%; height:100%;">';
					workListHtml += '		<div class="item-ho" onclick="dealDetail('+result[i].dealSq+')" style="cursor:pointer;">';
					workListHtml += '			<p>'+result[i].dealStrtDate+' – '+result[i].dealEndngDate+'</p>';
					if(result[i].bidCnt != null && result[i].bidCnt != ""){
						workListHtml += '			<p>응찰수 : '+result[i].bidCnt+'</p>';
					}else{
						workListHtml += '			<p>응찰수 : 0</p>';
					}
					workListHtml += '			<ul class="dealCount" dday="'+result[i].dealEndngDateTime+'" sday="'+result[i].dealStrtDateTime+'" strtDt="'+result[i].dealStrtDate+'"></ul>';
					workListHtml += '			<h4>시작가  '+result[i].dealStrtPrc+' KRW</h4>';
					workListHtml += '		</div>';
					workListHtml += '		<!-- 0823 start 체크아이콘 -->';
					workListHtml += '		<div class="item-ho4 check-div" style="display:none;">';
					workListHtml += '			<div class="pay-check mana-check">';
					workListHtml += '				<input type="checkbox" id="'+result[i].workSq+'" name="chkWorkSq" value="'+result[i].dealSq+'" onclick="selectedCount()">';
					workListHtml += '				<label for="'+result[i].workSq+'"><span></span></label>';
					workListHtml += '			</div>';
					workListHtml += '		</div>';
					/* workListHtml += '		<div class="item-view">';
					if(result[i].workOpenYn != "N"){
						workListHtml += '			<button type="button"><span class="iv-span" workSq="'+result[i].workSq+'" onclick="openYn(this)"></span></button>';
					}else{
						workListHtml += '			<button type="button"><span class="iv-span active" workSq="'+result[i].workSq+'" onclick="openYn(this)"></span></button>';
					}
					workListHtml += '		</div>'; */
					workListHtml += '		<!-- 0823 end -->';
					workListHtml += '	</div>';
					workListHtml += '	<!-- 하단텍스트 -->';
					workListHtml += '	<div class="item-body">';
					workListHtml += '		<!-- 하트 on하면 색상 -->';
					workListHtml += '		<div class="heart on" workSq="'+ result[i].workSq +'" style="cursor:pointer;"></div>';
					workListHtml += '		<div class="uesr-s">';
					if(result[i].artstProfileImgUrl != null && result[i].artstProfileImgUrl != ""){
						workListHtml += '		<img src="'+ result[i].artstProfileImgUrl +'" style="width:42px;border-radius: 7px;-moz-border-radius: 7px;-khtml-border-radius: 7px;-webkit-border-radius: 7px"/>';
					}else if(result[i].mbrProfileImgUrl != null  && result[i].mbrSq == "" && result[i].mbrSq == sMbrSqVal){
						workListHtml += '		<img src="'+ result[i].mbrProfileImgUrl +'" style="width:42px;border-radius: 7px;-moz-border-radius: 7px;-khtml-border-radius: 7px;-webkit-border-radius: 7px"/>';
					}else{
						workListHtml += '		<img src="/resources/img/de/ues-icon.png"/>';
					}
					workListHtml += '		</div>';
					workListHtml += '		<div class="text-s">';
					if(result[i].artstBirthYear != null && result[i].artstBirthYear != "") {
						workListHtml += '		<h3>'+result[i].artstActvtyNm+'('+result[i].artstBirthYear+')</h3>';	
					}else{
						workListHtml += '		<h3>'+result[i].artstActvtyNm+'</h3>';	
					}
					if(result[i].workProdcYear != null && result[i].workProdcYear != ""){
						workListHtml += '		<p class="ts-1">'+result[i].workNm+' ('+result[i].workProdcYear+')</p>';
					}else{
						workListHtml += '		<p class="ts-1">'+result[i].workNm+'</p>';
					}
					workListHtml += '			<p>'+result[i].workMatrl+'</p>';
					workListHtml += '			<p>'+result[i].workSizeDepth+'x'+result[i].workSizeWidth+'</p>';
					if(result[i].maxBidPrc != null && result[i].maxBidPrc != "") {
						workListHtml += '		<h4>입찰가 '+result[i].maxBidPrc+' KRW</h4>';
					}else{
						workListHtml += '		<h4>입찰가 0 KRW</h4>';
					}
					workListHtml += '		</div>';
					if(result[i].workTypCd == "WORK"){
						workListHtml += '		<div class="artist active"><span>Artist</span></div>';
					}else{
						workListHtml += '		<div class="artist"><span>Artist</span></div>';
					}
					workListHtml += '	</div>';
					workListHtml += '</figure>';
				}
				//정찰가
				if(result[i].dealTypCd == "S" && result[i].dealSttsCd == "TP"){
					workListHtml += '<figure class="item griditem '+gtText+'" style="border:0px solid #222;">';
					workListHtml += '	<!-- active하고 hover하면 나오고 /  sale 넣고 hover하면나옵니다 / auction hover -->';
					workListHtml += '	<div class="item-div-img sale"><!-- 0823 start chediv 추가 -->';
					workListHtml += '		<img src="'+result[i].workMainImgUrl+'" class="pseudo-img" style="max-width:360px; max-height:600px; width:100%; height:100%; cursor:pointer;" onclick="dealDetail('+result[i].dealSq+')">';
					workListHtml += '		<div class="item-ho2 sale-div">';
					workListHtml += '			<h3>판매중</h3>';
					workListHtml += '			<ul class="dealCount" dday="'+result[i].dealEndngDateTime+'" sday="'+result[i].dealStrtDateTime+'" strtDt="'+result[i].dealStrtDate+'"></ul>';
					workListHtml += '		</div>';
					workListHtml += '		<!-- 0823 start 체크아이콘 -->';
					workListHtml += '		<div class="item-ho4 check-div" style="display:none;">';
					workListHtml += '			<div class="pay-check mana-check">';
					workListHtml += '				<input type="checkbox" id="'+result[i].workSq+'" name="chkWorkSq" value="'+result[i].dealSq+'" onclick="selectedCount()">';
					workListHtml += '				<label for="'+result[i].workSq+'"><span></span></label>';
					workListHtml += '			</div>';
					workListHtml += '		</div>';
					/* workListHtml += '		<div class="item-view">';
					if(result[i].workOpenYn != "N"){
						workListHtml += '			<button type="button"><span class="iv-span" workSq="'+result[i].workSq+'" onclick="openYn(this)"></span></button>';
					}else{
						workListHtml += '			<button type="button"><span class="iv-span active" workSq="'+result[i].workSq+'" onclick="openYn(this)"></span></button>';
					}
					workListHtml += '		</div>'; */
					workListHtml += '		<!-- 0823 end -->';
					workListHtml += '	</div>';
					workListHtml += '	<!-- 하단텍스트 -->';
					workListHtml += '	<div class="item-body">';
					workListHtml += '		<!-- 하트 on하면 색상 -->';
					workListHtml += '		<div class="heart on" workSq="'+ result[i].workSq +'" style="cursor:pointer;"></div>';
					workListHtml += '		<div class="uesr-s">';
					if(result[i].artstProfileImgUrl != null && result[i].artstProfileImgUrl != ""){
						workListHtml += '		<img src="'+ result[i].artstProfileImgUrl +'" style="width:42px;border-radius: 7px;-moz-border-radius: 7px;-khtml-border-radius: 7px;-webkit-border-radius: 7px"/>';
					}else if(result[i].mbrProfileImgUrl != null  && result[i].mbrSq == "" && result[i].mbrSq == sMbrSqVal){
						workListHtml += '		<img src="'+ result[i].mbrProfileImgUrl +'" style="width:42px;border-radius: 7px;-moz-border-radius: 7px;-khtml-border-radius: 7px;-webkit-border-radius: 7px"/>';
					}else{
						workListHtml += '		<img src="/resources/img/de/ues-icon.png"/>';
					}
					workListHtml += '		</div>';
					workListHtml += '		<div class="text-s">';
					if(result[i].artstBirthYear != null && result[i].artstBirthYear != "") {
						workListHtml += '		<h3>'+ result[i].artstActvtyNm+'('+result[i].artstBirthYear+')</h3>';	
					}else{
						workListHtml += '		<h3>'+ result[i].artstActvtyNm+'</h3>';	
					}
					if(result[i].workProdcYear != null && result[i].workProdcYear != ""){
						workListHtml += '		<p class="ts-1">'+result[i].workNm+' ('+result[i].workProdcYear+')</p>';
					}else{
						workListHtml += '		<p class="ts-1">'+result[i].workNm+'</p>';
					}
					workListHtml += '			<p>'+result[i].workMatrl+'</p>';
					workListHtml += '			<p>'+result[i].workSizeDepth+'x'+result[i].workSizeWidth+'</p>';
					workListHtml += '			<h4>판매가 '+result[i].dealStrtPrc+' KRW</h4>';
					workListHtml += '		</div>';
					if(result[i].workTypCd == "WORK"){
						workListHtml += '		<div class="artist active"><span>Artist</span></div>';
					}else{
						workListHtml += '		<div class="artist"><span>Artist</span></div>';
					}
					workListHtml += '	</div>';
					workListHtml += '</figure>';
				}
				
				//판매완료
				if(result[i].dealSttsCd != "TP" && result[i].dealTypCd != null && result[i].dealTypCd != "" && result[i].dealSttsCd != "FB"){
					workListHtml += '<figure class="item griditem '+gtText+'" style="border:0px solid #222;">';
					workListHtml += '	<!-- active하고 hover하면 나오고 /  sale 넣고 hover하면나옵니다 / auction hover -->';
					workListHtml += '	<div class="item-div-img sold-3" onclick="soldoutDetail('+result[i].dealSq+')" style="cursor:pointer;"><!-- 0823 start chediv 추가 -->';	
					workListHtml += '		<img src="'+result[i].workMainImgUrl+'" class="pseudo-img" style="max-width:360px; max-height:600px; width:100%; height:100%; cursor:pointer;">';
					/* workListHtml += '		<!-- 0823 start 체크아이콘 -->';
					workListHtml += '		<div class="item-ho4 check-div" style="display:none;">';
					workListHtml += '			<div class="pay-check mana-check">';
					workListHtml += '				<input type="checkbox" id="a11" name="cc">';
					workListHtml += '				<label for="a11"><span></span></label>';
					workListHtml += '			</div>';
					workListHtml += '		</div>'; 
					workListHtml += '		<div class="item-view">';
					if(result[i].workOpenYn != "N"){
						workListHtml += '			<button type="button"><span class="iv-span" workSq="'+result[i].workSq+'" onclick="openYn(this)"></span></button>';
					}else{
						workListHtml += '			<button type="button"><span class="iv-span active" workSq="'+result[i].workSq+'" onclick="openYn(this)"></span></button>';
					}
					workListHtml += '		</div>'; */
					workListHtml += '	</div>';
					workListHtml += '	<!-- 하단텍스트 -->';
					workListHtml += '	<div class="item-body">';
					workListHtml += '		<!-- 하트 on하면 색상 -->';
					workListHtml += '		<div class="heart on" workSq="'+ result[i].workSq +'" style="cursor:pointer;"></div>';
					workListHtml += '		<div class="uesr-s">';
					if(result[i].artstProfileImgUrl != null && result[i].artstProfileImgUrl != ""){
						workListHtml += '		<img src="'+ result[i].artstProfileImgUrl +'" style="width:42px;border-radius: 7px;-moz-border-radius: 7px;-khtml-border-radius: 7px;-webkit-border-radius: 7px"/>';
					}else if(result[i].mbrProfileImgUrl != null  && result[i].mbrSq == "" && result[i].mbrSq == sMbrSqVal){
						workListHtml += '		<img src="'+ result[i].mbrProfileImgUrl +'" style="width:42px;border-radius: 7px;-moz-border-radius: 7px;-khtml-border-radius: 7px;-webkit-border-radius: 7px"/>';
					}else{
						workListHtml += '		<img src="/resources/img/de/ues-icon.png"/>';
					}
					workListHtml += '		</div>';
					workListHtml += '		<div class="text-s">';
					if(result[i].artstBirthYear != null && result[i].artstBirthYear != "") {
						workListHtml += '		<h3>'+ result[i].artstActvtyNm+'('+result[i].artstBirthYear+')</h3>';	
					}else{
						workListHtml += '		<h3>'+ result[i].artstActvtyNm+'</h3>';	
					}
					if(result[i].workProdcYear != null && result[i].workProdcYear != ""){
						workListHtml += '		<p class="ts-1">'+result[i].workNm+' ('+result[i].workProdcYear+')</p>';
					}else{
						workListHtml += '		<p class="ts-1">'+result[i].workNm+'</p>';
					}
					workListHtml += '			<p>'+result[i].workMatrl+'</p>';
					workListHtml += '			<p>'+result[i].workSizeDepth +'x'+result[i].workSizeWidth+'</p>';
					workListHtml += '			<h4>판매가 '+result[i].dealFinalPrc+' KRW</h4>';
					workListHtml += '		</div>';
					workListHtml += '		<!-- artist active넣어야지나옴 -->';
					if(result[i].workTypCd == "WORK"){
						workListHtml += '		<div class="artist active"><span>Artist</span></div>';
					}else{
						workListHtml += '		<div class="artist"><span>Artist</span></div>';
					}
					workListHtml += '	</div>';
					workListHtml += '</figure>';
				}
    		}
    		workListHtml += '</div>';
    		
    		$(".scrap_wrap").empty();
			$(".scrap_wrap").append(workListHtml).trigger("create");
			
			masonryLayout();
		}
	}
	//자랑하기 html 뿌려주기
	function setScrapBOAHtml(list){
		result = list;
		var html = '';
		for(i=0; i<result.length; i++){
    		j = 0;
            if(i == 0){
            	html +=	'<div class="mypage_showingoff_contents_row">';
            	for(j=0; j<3; j++){
            		if(result[i] != null){
	                	html +=		'<ul>';
	                	html +=		'    <li>';
	                	html +=		'        <div class="showingoff_pic">';
	                	html +=		'            <div class="text">'+result[i].comtTitle+'</div>';                                        
	                	html +=		'            <div class="pic"><a href="/community/showingOffDetail?SqNumber='+result[i].comtSq+'"><img src="'+result[i].comtImgUrl+'" alt="" class="pseudo-img" style="max-width:360px; max-height:600px; width:100%; height:100%;"></a></div>';
	                	html += 	'		<div class="item-ho4 check-div" style="display:none;">';
	                	html += 	'			<div class="pay-check mana-check">';
	                	html += 	'				<input type="checkbox" id="'+result[i].comtSq+'" name="chkWorkSq" value="'+result[i].dealSq+'" onclick="selectedCount()">';
    					html += 	'				<label for="'+result[i].comtSq+'"><span></span></label>';
    					html += 	'			</div>';
    					html += 	'		</div>';
    					html += 	'		<div class="item-view">';
    					if(result[i].cmtOpenYn != "N"){
    						html += '			<button type="button" class="workOpenYnBtn"><span class="iv-span" workSq="'+result[i].workSq+'" onclick="openYn(this)" style="display:none;"></span></button>';
    					}else{
    						html += '			<button type="button" class="workOpenYnBtn"><span class="iv-span active" workSq="'+result[i].workSq+'" onclick="openYn(this)" style="display:none;""></span></button>';
    					}
    					html += 	'		</div>';
    					html +=		'            <div class="icon_box">'
	                	html +=		'                <ul>'
	                	html +=		'                    <li><p class="ico_good"></p><span>'+result[i].comtLikes+'</span></li>';
	                	html +=		'                    <li><p class="ico_scrap"></p><span>'+result[i].comtScraps+'</span></li>';
	                	html +=		'                    <li><p class="ico_hits"></p><span></span>'+result[i].comtViews+'</li>';
	                	html +=		'                    <li><p class="ico_comments"></p><span>'+result[i].comtCmts+'</span></li>';
	                	html +=		'                </ul>';
	                	html +=		'            </div>';                                        
	                	html +=		'            <div class="header">';
	                	if(result[i].mbrProfileImgUrl != null && result[i].mbrProfileImgUrl !=""){
		                	html +=		'                <div class="user_img"><img src="'+result[i].mbrProfileImgUrl+'" alt=""></div>';
	                	}else{
		                	html +=		'                <div class="user_img"><img src="/resources/img/img_new/ico_dauser.png" alt=""></div>';
	                	}
	                	html +=		'                <ul class="user_name">';
	                	html +=		'                    <li><span>'+result[i].mbrNcknm+'</span></li>';
	                	if(result[i].mbrIntro != null){
	                		html +=		'                    <li>'+result[i].mbrIntro+'.</li>';
            			}
	                	html +=		'                </ul>';
	                	html +=		'            </div>';
	                	html +=		'        </div>';
	                	html +=		'    </li>';
	                	html +=		'</ul>';    
	                	if(j < 2){
	                    	i++
	                	}
            		}
            	}
            	html +=		'</div>';
            }else{
            	html +=	'<div class="mypage_showingoff_contents_row mt30">';

            	for(j=0; j<3; j++){
            		if(result[i] != null){
	                	html +=		'<ul>';
	                	html +=		'    <li>';
	                	html +=		'        <div class="showingoff_pic">';
	                	html +=		'            <div class="text">'+result[i].comtTitle+'</div>';                                        
	                	html +=		'            <div class="pic"><a href="/community/showingOffDetail?SqNumber='+result[i].comtSq+'"><img src="'+result[i].comtImgUrl+'" alt="" class="pseudo-img" style="max-width:360px; max-height:600px; width:100%; height:100%;"></a></div>';
	                	html += '		<div class="item-ho4 check-div" style="display:none;">';
	                	html += '			<div class="pay-check mana-check">';
	                	html += '				<input type="checkbox" id="'+result[i].comtSq+'" name="chkWorkSq" value="'+result[i].dealSq+'" onclick="selectedCount()">';
    					html += '				<label for="'+result[i].comtSq+'"><span></span></label>';
    					html += '			</div>';
    					html += '		</div>';
    					html += '		<div class="item-view">';
    					if(result[i].cmtOpenYn != "N"){
    						html += '			<button type="button" class="workOpenYnBtn"><span class="iv-span" workSq="'+result[i].workSq+'" onclick="openYn(this)" style="display:none;"></span></button>';
    					}else{
    						html += '			<button type="button" class="workOpenYnBtn"><span class="iv-span active" workSq="'+result[i].workSq+'" onclick="openYn(this)" style="display:none;""></span></button>';
    					}
    					html += '		</div>';
    					html +=		'            <div class="icon_box">'
	                	html +=		'                <ul>'
	                	html +=		'                    <li><p class="ico_good"></p><span>'+result[i].comtLikes+'</span></li>';
	                	html +=		'                    <li><p class="ico_scrap"></p><span>'+result[i].comtScraps+'</span></li>';
	                	html +=		'                    <li><p class="ico_hits"></p><span></span>'+result[i].comtViews+'</li>';
	                	html +=		'                    <li><p class="ico_comments"></p><span>'+result[i].comtCmts+'</span></li>';
	                	html +=		'                </ul>';
	                	html +=		'            </div>';                                        
	                	html +=		'            <div class="header">';
	                	if(result[i].mbrProfileImgUrl != null && result[i].mbrProfileImgUrl !=""){
		                	html +=		'                <div class="user_img"><img src="'+result[i].mbrProfileImgUrl+'" alt=""></div>';
	                	}else{
		                	html +=		'                <div class="user_img"><img src="/resources/img/img_new/ico_dauser.png" alt=""></div>';
	                	}	                	
	                	html +=		'                <ul class="user_name">';
	                	html +=		'                    <li><span>'+result[i].mbrNcknm+'</span></li>';
	                	if(result[i].mbrIntro != null){
	                		html +=		'                    <li>'+result[i].mbrIntro+'.</li>';
            			}
	                	html +=		'                </ul>';
	                	html +=		'            </div>';
	                	html +=		'        </div>';
	                	html +=		'    </li>';
	                	html +=		'</ul>';   
	                	if(j < 2){
	                    	i++
	                	}
            		}
            	}
            	html +=		'</div>';
            	html +=		'</div>';
            }
		}
		
		$(".scrap_wrap").empty();
		$(".scrap_wrap").append(html).trigger("create");
		masonryLayout2();
	}
	
	//전시후기/소개 뿌려주기
	function setScrapEXHHtml(list){
		result = list;
		
		var EXHhtml = '';
		
		for(i=0; i<result.length; i++){

    		if(result[i] != null){
            	EXHhtml += '<div class="exhint_row">';
            	EXHhtml += '<div class="exhint_list_img"><img src="'+result[i].comtImgUrl+'" style="width:100%; height:100%;"><div class="ico_num">1+</div></div>';
            	if(!isMobile){
            		EXHhtml += '<div class="contents width75per">';
            	}else{
            		EXHhtml +=	'<div class="contents">';
            	}
            	EXHhtml += '		<div class="item-ho4 check-div" style="display:none;">';
            	EXHhtml += '			<div class="pay-check mana-check">';
            	EXHhtml += '				<input type="checkbox" id="'+result[i].comtSq+'" name="chkWorkSq" value="'+result[i].dealSq+'" onclick="selectedCount()">';
				EXHhtml += '				<label for="'+result[i].comtSq+'"><span></span></label>';
				EXHhtml += '			</div>';
				EXHhtml += '		</div>';
            	EXHhtml += '   <ul>';
				if(result[i].cmtOpenYn != "N"){
					EXHhtml += '			<button type="button" class="workOpenYnBtn" style="display:none;"><span class="iv-span" workSq="'+result[i].workSq+'" onclick="openYn(this)"></span></button>';
				}else{
					EXHhtml += '			<button type="button" class="workOpenYnBtn" style="display:none;"><span class="iv-span active" workSq="'+result[i].workSq+'" onclick="openYn(this)"></span></button>';
				}
            	EXHhtml += '   	<a href="/community/exhibitDetail?SqNumber='+result[i].comtSq+'">';
            	EXHhtml += '       	<li>';
            	EXHhtml += '           	<div class="tit">'; 
            	EXHhtml += '            	<em>'+result[i].comtTitle+'</em>';                                                                
            	EXHhtml += '           	</div>';
            	EXHhtml += '       	</li>';
            	if(!isMobile){
            		EXHhtml += '       <li class="comt_content pt20 height120"><p>'+result[i].comtContent+'</p></li>';
            	}else{
            		EXHhtml += '       <li class="pt10 height_18_5rem comt_content"><p>'+result[i].comtContent+'</p></li>';
            	}
            	EXHhtml += '	</a>';
            	EXHhtml += '      	<li class="comt-row-info">';
            	EXHhtml += '           	<div class="user_wrap">';
            	EXHhtml += '               	<div class="user">';
            	EXHhtml += '                   <ul>';
            	if(!isMobile){
            		if(result[i].mbrProfileImgUrl != null && result[i].mbrProfileImgUrl !=""){
            			EXHhtml +=		'                <li class="user_img"><img src="'+result[i].mbrProfileImgUrl+'" alt=""></li>';
                	}else{
                		EXHhtml +=		'                <li class="user_img"><img src="/resources/img/img_new/ico_dauser.png" alt=""></li>';
                	}
            	}else{
            		if(result[i].mbrProfileImgUrl != null && result[i].mbrProfileImgUrl !=""){
            			EXHhtml +=		'                <li class="pt5"><img src="'+result[i].mbrProfileImgUrl+'" alt=""></li>';
                	}else{
                		EXHhtml +=		'                <li class="pt5"><img src="/resources/img/img_new/ico_dauser.png" alt=""></li>';
                	}
            	}
            	EXHhtml += '                      <li class="user_name"><span>'+result[i].mbrNcknm+'</span></li>';
            	EXHhtml += '                  </ul>';
            	EXHhtml += '               </div>';
            	EXHhtml += '               <div class="icon_box">';
            	EXHhtml += '                   <ul>';
            	EXHhtml += '                    <li><p class="ico_good"></p><span>'+result[i].comtLikes+'</span></li>';
            	EXHhtml += '                    <li><p class="ico_scrap"></p><span>'+result[i].comtScraps+'</span></li>';
            	EXHhtml += '                    <li><p class="ico_hits"></p><span></span>'+result[i].comtViews+'</li>';
            	EXHhtml += '                    <li><p class="ico_comments"></p><span>'+result[i].comtCmts+'</span></li>';
            	EXHhtml += '                   </ul>';
            	EXHhtml += '               </div>';
            	EXHhtml += '           </div>';                                
            	EXHhtml += '       </li>';
            	EXHhtml += '   </ul>';
            	EXHhtml +=	'</div>';
            	EXHhtml +=	'</div>';
    		}
		}
		
		$(".scrap_wrap").empty();
		$(".scrap_wrap").append(EXHhtml).trigger("create");
		setContentText($(".comt_content"));
	}
	
	//스크랩 이슈 목록 뿌려주기
	function setScrapISSHtml(list){
		result = list;
		
		var htmlISU = '';
		
		for(i=0; i<result.length; i++){

    		if(result[i] != null){
            	htmlISU += '<div class="exhint_row">';
            	htmlISU += '<div class="exhint_list_img"><img src="'+result[i].comtImgUrl+'" style="width:100%; height:100%;"><div class="ico_num">1+</div></div>';
            	if(!isMobile){
            		htmlISU += '<div class="contents width75per">';
            	}else{
            		htmlISU +=	'<div class="contents">';
            	}
            	htmlISU += '		<div class="item-ho4 check-div" style="display:none;">';
            	htmlISU += '			<div class="pay-check mana-check">';
            	htmlISU += '				<input type="checkbox" id="'+result[i].comtSq+'" name="chkWorkSq" value="'+result[i].dealSq+'" onclick="selectedCount()">';
				htmlISU += '				<label for="'+result[i].comtSq+'"><span></span></label>';
				htmlISU += '			</div>';
				htmlISU += '		</div>';
            	htmlISU += '   <ul>';
				if(result[i].cmtOpenYn != "N"){
					htmlISU += '			<button type="button" class="workOpenYnBtn" style="display:none;"><span class="iv-span" workSq="'+result[i].workSq+'" onclick="openYn(this)"></span></button>';
				}else{
					htmlISU += '			<button type="button" class="workOpenYnBtn" style="display:none;"><span class="iv-span active" workSq="'+result[i].workSq+'" onclick="openYn(this)"></span></button>';
				}
            	htmlISU += '		<a href="/community/exhibitDetail?SqNumber='+result[i].comtSq+'">';
            	htmlISU += '       	<li>';
            	htmlISU += '        	<div class="tit">'; 
            	htmlISU += '            	<em>'+result[i].comtTitle+'</em>';                                                                
            	htmlISU += '           	</div>';
            	htmlISU += '       	</li>';
            	if(!isMobile){
            		htmlISU += '       <li class="comt_content pt20 height120"><p>'+result[i].comtContent+'</p></li>';
            	}else{
            		htmlISU += '       <li class="pt10 height_18_5rem comt_content"><p>'+result[i].comtContent+'</p></li>';
            	}
            	htmlISU += '      </a>';
            	htmlISU += '      <li class="comt-row-info">';
            	htmlISU += '           <div class="user_wrap">';
            	htmlISU += '               <div class="user">';
            	htmlISU += '                   <ul>';
            	if(!isMobile){
            		if(result[i].mbrProfileImgUrl != null && result[i].mbrProfileImgUrl !=""){
                    	htmlISU +=		'                <li class="user_img"><img src="'+result[i].mbrProfileImgUrl+'" alt=""></li>';
                	}else{
                    	htmlISU +=		'                <li class="user_img"><img src="/resources/img/img_new/ico_dauser.png" alt=""></li>';
                	}
            	}else{
            		if(result[i].mbrProfileImgUrl != null && result[i].mbrProfileImgUrl !=""){
                    	htmlISU +=		'                <li class="pt5"><img src="'+result[i].mbrProfileImgUrl+'" alt=""></li>';
                	}else{
                    	htmlISU +=		'                <li class="pt5"><img src="/resources/img/img_new/ico_dauser.png" alt=""></li>';
                	}
            	}
            	htmlISU += '                      <li class="user_name"><span>'+result[i].mbrNcknm+'</span></li>';
            	htmlISU += '                  </ul>';
            	htmlISU += '               </div>';
            	htmlISU += '               <div class="icon_box">';
            	htmlISU += '                   <ul>';
            	htmlISU += '                   	<li><p class="ico_good"></p><span>'+result[i].comtLikes+'</span></li>';
            	htmlISU += '                    <li><p class="ico_scrap"></p><span>'+result[i].comtScraps+'</span></li>';
            	htmlISU += '                    <li><p class="ico_hits"></p><span></span>'+result[i].comtViews+'</li>';
            	htmlISU += '                    <li><p class="ico_comments"></p><span>'+result[i].comtCmts+'</span></li>';
            	htmlISU += '                   </ul>';
            	htmlISU += '               </div>';
            	htmlISU += '           </div>';                                
            	htmlISU += '       </li>';
            	htmlISU += '   </ul>';
            	htmlISU +=	'</div>';
            	htmlISU +=	'</div>';
    		}
		}
		
		$(".scrap_wrap").empty();
		$(".scrap_wrap").append(htmlISU).trigger("create");
		setContentText($(".comt_content"));
	}
	
	//거래 남은 시간 1초마다 계산해서 표현하기
	setInterval(function() {
		var elements = document.querySelectorAll(".dealCount");
		for(var i=0; i<elements.length; i++){
			var html = '';
			var dday = new Date(parseInt(elements[i].attributes.dday.value)).getTime();
			var today = new Date().getTime();
			if(today >= dday){
				dealSearch();
			}
		  	var gap = dday - today;
			var day = Math.floor(gap / (1000 * 60 * 60 * 24));
			var hour = Math.floor((gap % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
			var min = Math.floor((gap % (1000 * 60 * 60)) / (1000 * 60));
			var sec = Math.floor((gap % (1000 * 60)) / 1000);
			html += '<li>'+ day +'<span>day</span></li>';
 			html += '<li>'+ hour +'<span>hrs</span></li>';
 			html += '<li>'+ min +'<span>min</span></li>';
 			html += '<li>'+ sec +'<span>sec</span></li>';
			elements[i].innerHTML = html;
		  	//document.getElementById("dealCount").innerHTML = day + " 일 " + hour + " : " + min + " : " + sec;
		}
	}, 1000);
	
	//작품 상세 페이지 이동
	function workDetail(sq){
		location.href = "/deal/workDetail?SqNumber="+sq;
	}
	//구매 상세 페이지 이동
	function dealDetail(sq){
		location.href = "/deal/bidding?SqNumber="+sq;
	}
	//판매완료 상세 페이지 이동
	function soldoutDetail(sq){
		location.href = "/deal/soldoutDetail?SqNumber="+sq;	
	}
	
	//더보기 클릭
	function scrapSearchMore(){
		more += 1;
		scrapList(scrapGbCd);
	}
	
	//개수 뿌려주기
	function setScrapCnt(myWorkTotal, myDEALTotal, myBOATotal, myEXHTotal, myISSTotal){
		$("#btn_nal1").text("작품("+myWorkTotal+")");
		$("#btn_nal2").text("거래("+myDEALTotal+")");
		$("#btn_nal3").text("자랑하기("+myBOATotal+")");
		$("#btn_nal4").text("전시후기/소개("+myEXHTotal+")");
		$("#btn_nal5").text("이슈("+myISSTotal+")");
	}
	
	// 작성 글 내용 텍스트만 가져오기
	function setContentText(content) {
		// ck에디터 태그 제외하기 위한 정규식
		var regex = /ck-/;
		
		$.each(content, function(idx, item) {
			var childTags = $(item).children();
			var text = "";
			
			$.each(childTags, function(idx, item) {
				var tagClasses = $(item).attr("class");
				
				// 클래스가 있을 경우
				if(tagClasses) {
					// ck-로 시작하는 클래스명이 없을 경우 텍스트를 가져옴
					if(tagClasses.search(regex) === -1) {
						text += $(item).text();
					}
				} else {
					text += $(item).text();
				}
			});
			
			$(item).html(text);
		});
	}
	
	//검색
	function fnSearch(){
		const element = document.querySelector('#search_input');
		const value = element.value;
		searchWord = value;
		
		scrapList(scrapGbCd);
	}

	//화면 레이아웃 추가
	function masonryLayout() {
		var msnry = new Masonry( '.scrap_wrap', {

				
		  	  itemSelector: '.griditem',
		  	  columnWidth: 360,
		  	  gutter: 10,
		  	  horizontalOrder: true,
		  	  // originLeft: false //왼쪽부터 정렬 
		  	  // originTop: false //바닥부터
		  	  //transitionDuration: '0.2s' //위치 전환 시간
		});
		
		imagesLoaded( '.scrap_wrap' ).on( 'progress', function() {
			msnry.layout();
		});
			
	}
	//화면 레이아웃 추가
	function masonryLayout2() {
	 	var msnry = new Masonry( '.scrap_wrap', {
	  		itemSelector: '.showingoff_pic',
	  	  	columnWidth: 360,
	  	  	gutter: 10,
	  	  	horizontalOrder: true,
	  	  	// originLeft: false //왼쪽부터 정렬 
	  	  	// originTop: false //바닥부터
	  	  	transitionDuration: '0.2s' //위치 전환 시간
		});

		imagesLoaded( '.scrap_wrap' ).on( 'progress', function() {
			msnry.layout();
		});
	}
	</script>
</body>
</html>