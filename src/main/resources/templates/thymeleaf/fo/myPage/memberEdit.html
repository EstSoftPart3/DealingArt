<!DOCTYPE HTML>
<html lang="ko" xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">
<link type="text/css" rel="stylesheet" href="/resources/css/bootstrap-select2.css">
<head>
	<title>딜링아트</title>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="initial-scale=1,user-scalable=no,maximum-scale=1,width=device-width">
	<meta name="mobile-web-app-capable" content="yes">
	<meta name="apple-mobile-web-app-capable" content="yes">
	<meta name="theme-color" content="#000000">
	
	<meta name="author" content="">
	<meta name="keywords" content="미술,아트,경매,수수료,정찰,운송,보험,직거래,dealingart">
	<meta name="description" content="미술품 거래의 새로운 트렌드">
	<meta property="og:description" content="미술품 거래의 새로운 트렌드">
	<meta property="og:type" content="website">
	<meta property="og:title" content="딜링아트">
	<meta property="og:image" content="https://www.dealing-art.com/resources/img/DA_logo_og.png">
	<meta property="og:url" content="https://www.dealing-art.com">
	
	<!-- google -->
    <meta name="google-site-verification" content="EKiW_Lm3Qw-DYnLT9qokEpZT2Sa8tSQuVWhVEvs4kPk" />
    <!-- faceBook -->
    <meta name="facebook-domain-verification" content="bgotqya9tcsrgrmspnq0uywh85kjzh" />
    
    <!-- Global site tag (gtag.js) - Google Analytics -->
	<!-- HTML의 <head> 섹션에 전체 사이트 태그를 복사합니다. -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=G-WRJBSR52MT"></script>
	
	<script>
	  window.dataLayer = window.dataLayer || [];
	  function gtag(){dataLayer.push(arguments);}
	  gtag('js', new Date());
	
	  gtag('config', 'G-WRJBSR52MT');
	</script>
	
	<!-- Google Tag Manager -->
	<!-- 페이지의 <head>에서 가능한 한 높은 위치에 코드를 붙여넣으세요. -->
	<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
	new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
	j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
	'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
	})(window,document,'script','dataLayer','GTM-NBP5CQ9');</script>
	<!-- End Google Tag Manager -->
			
	<!-- Google Tag Manager (noscript) -->
	<!-- 또한 여는 <body> 태그 바로 뒤에 코드를 붙여넣으세요. -->
	<noscript>
		<iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NBP5CQ9"height="0" width="0" style="display:none; visibility:hidden"></iframe>
	</noscript>
	<!-- End Google Tag Manager (noscript) -->
	
	
	<!-- 페이스북 Meta Pixel Code -->
	<script>
	  !function(f,b,e,v,n,t,s)
	  {if(f.fbq)return;n=f.fbq=function(){n.callMethod?
	  n.callMethod.apply(n,arguments):n.queue.push(arguments)};
	  if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
	  n.queue=[];t=b.createElement(e);t.async=!0;
	  t.src=v;s=b.getElementsByTagName(e)[0];
	  s.parentNode.insertBefore(t,s)}(window, document,'script',
	  'https://connect.facebook.net/en_US/fbevents.js');
	  fbq('init', '5995234030505207');
	  fbq('track', 'PageView');
	</script>
	<noscript><img height="1" width="1" style="display:none" src="https://www.facebook.com/tr?id=5995234030505207&ev=PageView&noscript=1"/></noscript>
    
    <style>
    	.head-wrap{border-bottom:#e9e9e9 1px solid;}
    	.swi-box::before{background-color:#f9f9f9;}
    	.footer-wrap{margin-top:0;}
    	.hd-div{background-color:#fff;}
    	.swiper-slide{background-color:rgb(255 255 255 / 0%);}
    	@media screen and (min-width: 1px) and (max-width: 1536px){
    	.con-left{display:none}
    	}
    	/* Chrome, Safari, Edge, Opera */
		input::-webkit-outer-spin-button,
		input::-webkit-inner-spin-button {
		  -webkit-appearance: none;
		  margin: 0;
		}
		/* Firefox */
		input[type=number] {
		  -moz-appearance: textfield;
		}
    </style>
    
    <link rel="icon" type="image/png" href="/resources/img/favicon.png">
    <link type="text/css" rel="stylesheet" href="/resources/css/common_new.css"/>
    
</head>

<body>
	<div class="wrap">
	<th:block th:replace="thymeleaf/header :: headerFragment"></th:block>
		<div class="body-wrap">
			<div class="mypage_wrap">
				<h2>설정</h2>
			 	<div th:text="${session.mbrSq}" id="mbrSq" style="display:none"></div>
				<div class="mypage_contents">
				    
		            <div id = "left_menu"></div>
					
					<div class="contents_right info-right">
					
						<form name="form_chk" method="post">
							
							<div class="me-center">
								<div class="member-box">
									
									<div class="input-box">
										<input type="hidden" id="uMbrSq" name="uMbrSq">
										<input type="text" class="input-3" id="uMbrId" name="uMbrId" placeholder="아이디/이메일" readonly disabled/>
									</div>
									
									<p class="inp-p" id="emailCertificationCheck" style="display:none">이메일 인증 완료</p>
									<p class="inp-p" id="uMbrIdCheck" style="display:none">주로 사용하는 이메일을 입력해 주세요. 경매/판매 내역을 발송해 드립니다.</p>
									
									<!-- 비밀번호 변경 전 -->
									<div class="input-box input-group" id="div_originalMbrPasswrd">
										<input type="password" class="input-3" placeholder="비밀번호 변경은 비밀번호 변경 버튼을 눌러주세요." disabled/>
										<button type="button" class="group-btn" onclick="btn_newPasswrd();">비밀번호 변경</button>
									</div>
									
									<!-- 비밀번호 변경 -->
									<div id="div_newMbrPasswrd"  style="display:none;">
										<div class="input-box">
											<input type="password" class="input-3" id="uMbrPasswrd" name="uMbrPasswrd" placeholder="비밀번호" />
											<p class="inp-p" id="uMbrPwdCheck"></p>
										</div>
										<div class="input-box">
											<input type="password" class="input-3" placeholder="비밀번호 확인" id="uMbrPasswrdConfirm" name="uMbrPasswrdConfirm"/>
											<p class="inp-p" id="mbrPwdReCheck">확인을 위해 새 비밀번호를 다시 입력해주세요.</p>
										</div>
									</div>					
									
									<div class="input-box">
										<input type="text" class="input-3" placeholder="이름" id="uMbrNm" name="uMbrNm" disabled/>
										<p class="inp-p" id="uMbrNmCheck"></p>
									</div>
									
									<div class="input-box">
										<p class="inp-p">성명은 본인인증 후 자동으로 입력됩니다.</p>
									</div>
									
									<div class="input-box input-group">
										<input type="text" class="input-3" placeholder="휴대폰 번호" id="uMbrCpNum" name="uMbrCpNum" disabled/>
										<button type="button" class="group-btn phone" id="SmsCertification">인증하기</button>
										<input type="hidden" id="uMbrCpCertDi" name="mbrCpCertDi" value="">
										<input type="hidden" id="uMbrCpCertYn" name="uMbrCpCertYn" value="">
									</div>
									<div class="input-box">
										<p class="inp-p" id="smsCertificationCheck">휴대폰 번호 변경을 원하시면 인증하기 버튼을 눌러주세요.</p>
									</div>
									
									<div class="input-box input-group">
										<input type="text" class="input-3" placeholder="활동명" id="uMbrNcknm" autocomplete="off" onkeyup="uCharacterCheck(this)" onblur="uMbrNcknmLength(this)"/>
										<button type="button" class="group-btn" id="uMbrNcknmBtn" onclick="uMbrNcknmCheck(this)" style="display:none;">중복체크</button>
									</div>
									<div class="input-box">
										<p class="inp-p" id="uMbrNcknmCheck"></p>
									</div>
									
									<div class="input-box input-group" id="div_originalMbrDelivryAddr">
										<input type="text" class="input-3" placeholder="우편번호를 검색하세요" id="uMbrDelivryAddr" autocomplete="off" disabled/>
										<button type="button" class="group-btn" onclick="btn_newAddr();">주소 변경</button>
									</div>
									
									<div id="div_newMbrDelivryAddr" style="display:none;">
										<div class="input-box input-group">
											<input type="text" class="input-3" placeholder="우편번호를 검색하세요" id="newMbrDelivryAddr" autocomplete="off" disabled/>
											<button type="button" class="group-btn" onclick="userAddress('newMbrDelivryAddr');">우편번호 검색</button>
										</div>
										<div class="input-box">
											<input type="text" class="input-3" placeholder="상세주소를 입력하세요." id="newMbrDelivryAddrDetail"/>
										</div>
									</div>
									<div class="input-box">
										<p class="inp-p">작품 운송에 필요한 주소지를 등록해주세요.</p>
										<p class="inp-p" id="mbrDelivryAddrCheck"></p>
									</div>
									
									<div class="input-box input-group">
										<input type="text" class="input-3" placeholder="계좌인증을 진행해주세요." id="mbrAccountNo" disabled/>
										<button type="button" class="group-btn" data-toggle="modal" data-target="#checkAccount">계좌번호 인증</button>
									</div>
									<div class="input-box">
										<p class="inp-p">판매하신 작품의 정산을 받을 계좌를 입력해주세요.</p>
										<p class="inp-p" id="mbrDelivryAddrCheck"></p>
									</div>
									<div class="profile_img">
										<p class="tit">프로필 이미지</p>
										<div class="photo_wrap">
												<div class="cont-box">
													<input type="hidden" name="artstProfileImgUrl" id="artstProfileImgUrl">
													<input type="file" id="file_artstProfileImgUrl" style="display:none">
													<img class="content" id="dropZone_artstProfileImgUrl" src="/resources/img/mypage/icon-u.png" style="cursor:pointer"/>
													<!-- <div class="content" id="dropZone"></div> -->
													<div class="cont-text">※ 클릭하여 파일을 끌어오거나<br/>선택하여 업로드 하세요.</div>
												</div>
											<button  type="button" id ="profileImgaDel">삭제</button>
										</div>										
									</div>
									<div class="input-box">
										<p class="inp-p">한줄 소개</p>
										<input type="text" class="input-3" placeholder="" id="mbrintro" name="">
									</div>
									<div class="input-box">
										<p class="inp-p">선호하시는 미술 장르를 선택해주세요 (선택, 최대 3개 선택 가능)</p>
										<div class="profile_checkbox_wrap mt10">
											<input type="checkbox" id="pca1" name="genre" value="abstract" class="searchOption" onclick="chkbox(this)">
											<label for="pca1"><span></span>추상화</label>
											<input type="checkbox" id="pca2" name="genre" value="surrealism" class="searchOption" onclick="chkbox(this)">
											<label for="pca2"><span></span>초현실주의</label>
											<input type="checkbox" id="pca3" name="genre" value="impressionism" class="searchOption" onclick="chkbox(this)">
											<label for="pca3"><span></span>인상주의</label>
											<input type="checkbox" id="pca4" name="genre" value="modernism" class="searchOption" onclick="chkbox(this)">
											<label for="pca4"><span></span>현대주의</label>
											<input type="checkbox" id="pca5" name="genre" value="minimalism" class="searchOption" onclick="chkbox(this)">
											<label for="pca5"><span></span>미니멀리즘</label>
											<input type="checkbox" id="pca6" name="genre" value="postmodernism" class="searchOption" onclick="chkbox(this)">
											<label for="pca6"><span></span>포스트 모더니즘</label>
											<input type="checkbox" id="pca7" name="genre" value="popArt" class="searchOption" onclick="chkbox(this)">
											<label for="pca7"><span></span>팝아트</label>
											<input type="checkbox" id="pca8" name="genre" value="realism" class="searchOption" onclick="chkbox(this)">
											<label for="pca8"><span></span>현실주의</label>
											<input type="checkbox" id="pca9" name="genre" value="existentialism" class="searchOption" onclick="chkbox(this)">
											<label for="pca9"><span></span>실증주의</label>
											<input type="checkbox" id="pca10" name="genre" value="underground_Art" class="searchOption" onclick="chkbox(this)">
											<label for="pca10"><span></span>언더그라운드 아트</label>
											</div>
									</div>
									<div class="input-box">
										<p class="inp-p">취미를 선택해주세요 (선택, 최대 3개 선택 가능)</p>
										<div class="profile_checkbox_wrap mt10">
											<input type="checkbox" id="pcb1" name="hobby" value="music" class="searchOption" onclick="chkbox1(this)">
											<label for="pcb1"><span></span>음악감상</label>
											<input type="checkbox" id="pcb2" name="hobby" value="movie" class="searchOption" onclick="chkbox1(this)">
											<label for="pcb2"><span></span>영화감상</label>
											<input type="checkbox" id="pcb3" name="hobby" value="exh" class="searchOption" onclick="chkbox1(this)">
											<label for="pcb3"><span></span>전시감상</label>
											<input type="checkbox" id="pcb4" name="hobby" value="cook" class="searchOption" onclick="chkbox1(this)">
											<label for="pcb4"><span></span>요리</label>
											<input type="checkbox" id="pcb5" name="hobby" value="exercise" class="searchOption" onclick="chkbox1(this)">
											<label for="pcb5"><span></span>운동</label>
											<input type="checkbox" id="pcb6" name="hobby" value="art" class="searchOption" onclick="chkbox1(this)">
											<label for="pcb6"><span></span>예술창작</label>
											<input type="checkbox" id="pcb7" name="hobby" value="reading" class="searchOption" onclick="chkbox1(this)">
											<label for="pcb7"><span></span>독서</label>
											<input type="checkbox" id="pcb8" name="hobby" value="travel" class="searchOption" onclick="chkbox1(this)">
											<label for="pcb8"><span></span>여행</label>
											<input type="checkbox" id="pcb9" name="hobby" value="climbing" class="searchOption" onclick="chkbox1(this)">
											<label for="pcb9"><span></span>등산</label>
											<input type="checkbox" id="pcb10" name="hobby" value="game" class="searchOption" onclick="chkbox1(this)">
											<label for="pcb10"><span></span>게임</label>
											<input type="checkbox" id="pcb11" name="hobby" value="meeting" class="searchOption" onclick="chkbox1(this)">
											<label for="pcb11"><span></span>모임</label>
										</div>
									</div>
									<div class="input-box">
										<p class="inp-p">직업을 선택해주세요 (선택, 최대 3개 선택 가능)</p>
										<div class="profile_checkbox_wrap mt10">
											<input type="checkbox" id="pcc1" name="job" value="student" class="searchOption" onclick="chkbox2(this)">
											<label for="pcc1"><span></span>학생</label>
											<input type="checkbox" id="pcc2" name="job" value="student" class="searchOption" onclick="chkbox2(this)">
											<label for="pcc2"><span></span>자영업자</label>
											<input type="checkbox" id="pcc3" name="job" value="public_official" class="searchOption" onclick="chkbox2(this)">
											<label for="pcc3"><span></span>공무원</label>
											<input type="checkbox" id="pcc4" name="job" value="official" class="searchOption" onclick="chkbox2(this)">
											<label for="pcc4"><span></span>직장인</label>
											<input type="checkbox" id="pcc5" name="job" value="freelancer" class="searchOption" onclick="chkbox2(this)">
											<label for="pcc5"><span></span>프리랜서</label>
											<input type="checkbox" id="pcc6" name="job" value="researcher" class="searchOption" onclick="chkbox2(this)">
											<label for="pcc6"><span></span>연구원</label>
											<input type="checkbox" id="pcc7" name="job" value="professor" class="searchOption" onclick="chkbox2(this)">
											<label for="pcc7"><span></span>교수</label>
											<input type="checkbox" id="pcc8" name="job" value="entrepreneur" class="searchOption" onclick="chkbox2(this)">
											<label for="pcc8"><span></span>기업가</label>
											<input type="checkbox" id="pcc9" name="job" value="doctor" class="searchOption" onclick="chkbox2(this)">
											<label for="pcc9"><span></span>의사</label>
											<input type="checkbox" id="pcc10" name="job" value="lawyer" class="searchOption" onclick="chkbox2(this)">
											<label for="pcc10"><span></span>변호사</label>
											<input type="checkbox" id="pcc11" name="job" value="artist" class="searchOption" onclick="chkbox2(this)">
											<label for="pcc11"><span></span>예술가</label>
											<input type="checkbox" id="pcc12" name="job" value="chef" class="searchOption" onclick="chkbox2(this)">
											<label for="pcc12"><span></span>요리사</label>
											<input type="checkbox" id="pcc13" name="job" value="housewife" class="searchOption" onclick="chkbox2(this)">
											<label for="pcc13"><span></span>주부</label>
											<input type="checkbox" id="pcc14" name="job" value="trainer" class="searchOption" onclick="chkbox2(this)">
											<label for="pcc14"><span></span>트레이너</label>
										</div>
									</div>
									<div class="input-box">
										<p class="inp-p">연령대를 선택해주세요 (선택, 최대 3개 선택 가능)</p>
										<div class="profile_checkbox_wrap mt10">
											<input type="checkbox" id="pcd1" name="age" value="10" class="searchOption" onclick="chkbox3(this)">
											<label for="pcd1"><span></span>10대</label>
											<input type="checkbox" id="pcd2" name="age" value="20" class="searchOption" onclick="chkbox3(this)">
											<label for="pcd2"><span></span>20대</label>
											<input type="checkbox" id="pcd3" name="age" value="30" class="searchOption" onclick="chkbox3(this)">
											<label for="pcd3"><span></span>30대</label>
											<input type="checkbox" id="pcd4" name="age" value="40" class="searchOption" onclick="chkbox3(this)">
											<label for="pcd4"><span></span>40대</label>
											<input type="checkbox" id="pcd5" name="age" value="50" class="searchOption" onclick="chkbox3(this)">
											<label for="pcd5"><span></span>50대</label>
											<input type="checkbox" id="pcd6" name="age" value="60" class="searchOption" onclick="chkbox3(this)">
											<label for="pcd6"><span></span>60대</label>
											<input type="checkbox" id="pcd7" name="age" value="70" class="searchOption" onclick="chkbox3(this)">
											<label for="pcd7"><span></span>70대</label>											
										</div>
									</div>									
									<div class="bat-box3 mg_t65">
										<button type="button" class="ba-btn1" id="memberUpdateBtn"><span>회원 정보 수정하기</span></button>
									</div>
									
<!-- 									<div class="mypage-btn"> -->
<!-- 										<a href="/myPage/withdrawal" class="my-btn">회원탈퇴</a> -->
<!-- 									</div> -->
								</div>
							</div>
						</div>
						
						<input type="hidden" name="m" value="checkplusSerivce">	<!-- 필수 데이타로, 누락하시면 안됩니다. -->
						<input type="hidden" name="EncodeData">					<!-- 위에서 업체정보를 암호화 한 데이타입니다. -->
			
					</form>
				</div>
				
			</div>
		</div>
		
		<th:block th:replace="thymeleaf/footer :: footerFragment"></th:block>
	</div>
<!-- 0702 시작 -->
<div class="modal fade modal-s" id="checkAccount" tabindex="-1" role="dialog" aria-labelledby="myModal3Label" aria-hidden="true">
	<div class="modal-dialog modal-baeg max-w530">
		<div class="modal-content">
			<div class="modal-header">
				<div class="baegs">
					<h2>계좌번호 입력해주세요.</h2>
				    <img src="/resources/img/ba/icon-1.png" class="con-img" />
				    <div class="close" data-dismiss="modal" aria-label="Close"><img src="/resources/img/ba/icon-end.png" /></div>
				</div>

			</div>
			<div class="modal-body">
				<div class="md-box-1">
					<div class="med-box radio-2">
					<!-- NICE 계좌인증 form -->
					<form name="form_bc" method="post">
						<!-- 서비스구분 (1: 소유주 확인, 2: 예금주명 확인, 3: 계좌 유효성 확인) -->
						<input type="hidden" name="service" value="1">
						<!-- 업무구분 (5: 소유주 확인, 2: 예금주명 확인, 4: 계좌 유효성 확인) -->
						<input type="hidden" name="svcGbn" value="5">
						<!-- 계좌구분 (1:개인계좌, 2:법인계좌) -->
						<input type="hidden" name="strGbn" value="1">
						<!-- <input type="radio" id="ww1" name="strGbn" value="1" checked="checked">
						<label for="ww1" class="wd-145"><span></span>개인계좌</label>
						<input type="radio" id="ww2" name="strGbn" value="2">
						<label for="ww2"><span></span>법인계좌</label> -->
						
						<div class="home-2">
							<div class="selec-box select-s2">
								<select class="selectpicker" name="strBankCode" data-width="100%" data-size="5" title="은행을 선택해주세요.">
									<option value="002">산업은행</option>
									<option value="003">기업은행</option>
									<option value="004">국민은행</option>
									<option value="007">수협</option>
									<option value="011">농협</option>
									<option value="020">우리은행</option>
									<option value="023">SC제일은행</option>
									<option value="027">한국씨티은행</option>
									<option value="031">대구은행</option>
									<option value="032">부산은행</option>
									<option value="034">광주은행</option>
									<option value="035">제주은행</option>
									<option value="037">전북은행</option>
									<option value="039">경남은행</option>
									<option value="045">새마을금고</option>
									<option value="048">신협</option>
									<option value="071">우체국</option>
									<option value="081">하나은행</option>
									<option value="088">신한은행</option>
								</select>
							</div>
							
							<!-- <!-- <div class="input-box">
								<input type="text" class="input-2" placeholder="은행코드을 입력해주세요" />
								<span class="span-in">은행코드</span>
							</div> -->
							
							<div class="input-box">
								<input type="number" class="input-2" name="strAccountNo" placeholder="계좌번호를 입력해주세요" />
								<span class="span-in">계좌번호</span>
							</div>								
							<div class="input-box">
								<input type="text" class="input-2" name="name" placeholder="예금주명을 입력해주세요" readOnly/>
								<span class="span-in">예금주명</span>
							</div>
							<div class="input-box">
								<input type="number" class="input-2" name="birth" placeholder="생년월일 6자리를 입력해주세요" oninput="this.value = this.value.replace('.', ''); if(this.value.length > 6){this.value='';}"/>
								<span class="span-in">생년월일</span>
							</div>
						</div>
					</form>
					</div>
					
					
					<div class="baeg-btn mg_t30">
						<button type="button" class="baeg-b1" onclick="bcSubmit()">인증</button>
						<button type="button" class="baeg-b2" data-dismiss="modal" aria-label="Close">취소</button>
					</div>
					
				</div>
			</div>
		</div>
	</div>
</div>
<!-- 0702 끝 -->
<script type="text/javascript"> 
var mbrNcknmCheckYn = "Y"; 			//활동명 중복체크 여부
var originalMbrSq = '';				//회원순번
var originalMbrNm = '';				//이름
var originalMbrId = '';				//아이디
var originalMbrPasswrd = '';		//비밀번호
var originalMbrNcknm = '';			//닉네임
var originalMbrEmail = '';			//이메일
var originalMbrBirth = '';			//생년월일
var originalMbrSexCd = '';			//성별
var originalMbrCpNum = '';			//휴대폰번호
var originalRegDt = '';				//회원등록일시
var originalMbrHomeAddr = '';		//집주소
var originalMbrDelivryAddr = '';	//배송지 주소
var originalUseYn = '';				//사용여부
var originalMbrCpCertDate = '';		//전화인증날짜	
var originalMbrCpCertDi = ''; 		//휴대폰 인증 DI (주민번호 대체 고유값)
var originalMbrAccountNo = '';		//정산 계좌번호
var originalMbrBankCd = '';			//정산 계좌 은행 코드
var originalMbrBankNm = '';			//정산 계좌 은행 이름
var originalMbrProfileImgUrl = '';

var mbrAccountNo = '';
var mbrBankCd = '';
var mbrBankNm =  '';

var mc = 3;  //체크박스 갯수제한
var tc = 0; // 카운트 증가
var mc1 = 3;  //체크박스 갯수제한
var tc1 = 0; // 카운트 증가
var mc2 = 3;  //체크박스 갯수제한
var tc2 = 0; // 카운트 증가
var tc3 = 0;
var mc3 = 3;
var genrelist = []; 
var hobbylist = []; 
var agelist = []; 
var joblist =[];


$(document).ready(function() {
	
	$("#left_menu").load("/myPage/mypage_common_left");  // 레프트 메뉴 삽입

	
	$('#SmsCertification').click(function() {
		$.ajax({
			method: "POST",
			url: "/main/auth/phone"
		}).done(function(data) {
			document.form_chk.EncodeData.value = data;
			window.open('', 'popupChk', 'width=500, height=550, top=100, left=100, fullscreen=no, menubar=no, status=no, toolbar=no, titlebar=yes, location=no, scrollbar=no');
			document.form_chk.action = "https://nice.checkplus.co.kr/CheckPlusSafeModel/checkplus.cb";
			document.form_chk.target = "popupChk";
			document.form_chk.submit();
		});
	});
	
	$("#file_artstProfileImgUrl").bind('change', function() {
		uploadResource(this.files, "profile");
	});
	
	$("#dropZone_artstProfileImgUrl").click(function(){
	       $('#file_artstProfileImgUrl').click();
	    });
	
	$("#profileImgaDel").click(function(){
	 	$("#dropZone_artstProfileImgUrl").attr("src","/resources/img/mypage/icon-u.png");
		$("#artstProfileImgUrl").val("");
		$("#file_artstProfileImgUrl").val("");
		$("#profileImgaDel").hide();
    });
	
	$(function() {
		// 파일 드롭 다운
		fileDropDown();
	});
	
	if($("#file_artstProfileImgUrl").val() != ""){	
		var maxSize = 5 * 1024 * 1024; // 5MB
		var fileSize = $("#file_artstProfileImgUrl")[0].files[0].size;
		
		if(fileSize > maxSize){
			modalAlertShow("프로필 이미지의 용량이 5MB가 넘습니다. 5MB이상은 첨부파일을 올릴 수 없습니다.", "file");
			return false;
		}
	}
	

});


// 파일 드롭 다운
function fileDropDown() {
	var dropZone1 = $("#dropZone_artstProfileImgUrl");
	var dropZone2 = $("#dropZone_artstWorkImgUrl");
	//Drag기능 
	dropZone1.on('dragenter', function(e) {
		e.stopPropagation();
		e.preventDefault();
		// 드롭다운 영역 css
		dropZone1.css('background-color', '#E3F2FC');
	});
	dropZone1.on('dragleave', function(e) {
		e.stopPropagation();
		e.preventDefault();
		// 드롭다운 영역 css
		dropZone1.css('background-color', '#FFFFFF');
	});
	dropZone1.on('dragover', function(e) {
		e.stopPropagation();
		e.preventDefault();
		// 드롭다운 영역 css
		dropZone1.css('background-color', '#E3F2FC');
	});
	dropZone1.on('drop', function(e) {
		e.preventDefault();
		// 드롭다운 영역 css
		dropZone1.css('background-color', '#FFFFFF');
		var fileObject = e.originalEvent.dataTransfer.files;
		
		if (fileObject != null) {
			if (fileObject.length < 1) {
				/* alert("폴더 업로드 불가"); */
				console.log("폴더 업로드 불가");
				return;
			} else {
				uploadResource(fileObject,'profile');
			}
		} else {
			alert("ERROR");
		}
	});
	
	//Drag기능 
	dropZone2.on('dragenter', function(e) {
		e.stopPropagation();
		e.preventDefault();
		// 드롭다운 영역 css
		dropZone2.css('background-color', '#E3F2FC');
	});
	dropZone2.on('dragleave', function(e) {
		e.stopPropagation();
		e.preventDefault();
		// 드롭다운 영역 css
		dropZone2.css('background-color', '#FFFFFF');
	});
	dropZone2.on('dragover', function(e) {
		e.stopPropagation();
		e.preventDefault();
		// 드롭다운 영역 css
		dropZone2.css('background-color', '#E3F2FC');
	});
	dropZone2.on('drop', function(e) {
		e.preventDefault();
		// 드롭다운 영역 css
		dropZone2.css('background-color', '#FFFFFF');

		var fileObject = e.originalEvent.dataTransfer.files;
		
		if (fileObject != null) {
			if (fileObject.length < 1) {
				/* alert("폴더 업로드 불가"); */
				console.log("폴더 업로드 불가");
				return;
			} else {
				uploadResource(fileObject,'mainWork');
			}
		} else {
			alert("ERROR");
		}
	});
}

function uploadResource(fileObject, fileType) {
	
	var file = null;
	
	const formData = new FormData();
	formData.append("url", "dealingart/member/profileImg/"+sMbrSqVal+"/");
	if (fileObject != null) {
		// 파일 Drag 이용하여 등록시
		file = fileObject[0];
		formData.append("file", file);
		console.log(file);
	} else {
		file = document.getElementById("file");
		formData.append("file", file.files[0]);
	}
	
	var maxSize = 5 * 1024 * 1024; // 5MB
	var fileSize = file.size;
	
	if(fileSize > maxSize){ 
		modalAlertShow("이미지의 용량이 5MB가 넘습니다. 5MB이상은 첨부파일을 올릴 수 없습니다.", "file");
		return false;
	}
	
    fetch("/file/upload", {
        method : "POST"
        , body : formData
    })
    .then(result => result.json())
    .then(data => {
    	if(fileType == "profile"){
    		document.getElementById("dropZone_artstProfileImgUrl").setAttribute("src", data.fileUrl);
            $('#artstProfileImgUrl').val(data.fileUrl);
            console.log("artstProfileImgUrl :"+data.fileUrl)
    	}
     
    })
    .catch(error => console.log(`error => ${error}`));
    
    $("#profileImgaDel").show();
}

function mainMobileAuthSuccess(result){
	$("#uMbrCpCertDi").val(result.sDupInfo);
	$("#uMbrCpCertYn").val("Y");
	$("#uMbrCpNum").val(result.sMobileNo.replace(/(^02.{0}|^01.{1}|[0-9]{3})([0-9]+)([0-9]{4})/,"$1-$2-$3"));
	$("#uMbrNm").val(result.sName);
}
$( document ).ready(function() {
 	var sMbrSql = $("#mbrSq").html();
 	
	 memberContentData(sMbrSql);

});

jQuery(document).ready(function() {
	/*
	if(sAuthSqVal == 2){
		document.getElementById("portfolio").style.display="";
	}
	
	$("#conTitle").empty();
	const conBtn = document.getElementById("conBtn");
	conBtn.remove();
	var conTitleHtml = "";
	conTitleHtml += '<h3>설정</h3>';
	$("#conTitle").append(conTitleHtml).trigger("create");
	
	$("#memberEdit").addClass("active");
	*/
}); 
//계좌 확인
function bcSubmit(){
	var service = "1";
	var svcGbn = "5";
	var strGbn = $("input[name=strGbn]").val();
	var strBankCode = $("[name=strBankCode] option:selected").val();
	var strAccountNo = $("input[name=strAccountNo]").val();
	var name = $("input[name=name]").val();
	var birth = $("input[name=birth]").val();
	if(strGbn == "" || strGbn == null){
		$("#checkAccount").modal("hide");
		modalAlertShow("계좌 구분을 선택해주세요.");
		return false;
	}
	if(strBankCode == "" || strBankCode == null){
		$("#checkAccount").modal("hide");
		modalAlertShow("은행을 선택해주세요.");
		return false;
	}
	if(strAccountNo == "" || strAccountNo == null){
		$("#checkAccount").modal("hide");
		modalAlertShow("계좌번호를 입력해주세요.");
		return false;
	}
	if(name == "" || name == null){
		$("#checkAccount").modal("hide");
		modalAlertShow("예금주명을 입력해주세요.");
		return false;
	}
	if(birth == "" || birth == null){
		$("#checkAccount").modal("hide");
		modalAlertShow("예금주의 생년월일(사업자번호)을 입력해주세요.");
		return false;
	}
	var queryString = $("form[name=form_bc]").serialize();
	
	$.ajax({
        type: "post",
        url: "/memBankRequest",
        data: queryString,
        dataType: "json",
        success: function(data) {
        	if(data > 0 || data != null || data != ""){
        		bankCheckCallBack(data.resultCode, data.resultMsg);
        	}
        },
        error: function(error) {
            alert("오류 발생" + error);
        }
	});
} 
//계좌 확인 콜백
function bankCheckCallBack(rstCd, rstMsg){
	$("#checkAccount").modal("hide");
	if(rstCd != 0000){
		modalAlertShow(rstMsg);
	}else{
		mbrBankNm = $("[name=strBankCode] option:selected").text();
		mbrBankCd = $("[name=strBankCode] option:selected").val();
		mbrAccountNo = $("input[name=strAccountNo]").val();
		$("#mbrAccountNo").val(result.mbrInfo.mbrBankNm+" "+result.mbrInfo.mbrAccountNo);
		$("form[name=form_bc]")[0].reset();
		modalAlertShow("계좌 인증이 완료 되었습니다.");
	}
};

//다음 주소 찾기
function userAddress(inputId) {
		    
     new daum.Postcode({
           oncomplete: function(data) { //선택시 입력값 세팅
           document.getElementById(inputId).value = data.address; // 주소 넣기
        }
    }).open();
}

//회원 정보 호출
function memberContentData(mbrSq) {
	$.ajax({
           type: "post",
           url: "/member/myPage/memberContentData",
           data: {
        	   mbrSq : mbrSq
            },
           success: function(data) {
        	 
        	 if (typeof data != "undefined") {
        	 	 
        	 	dataContent = data.memberContentData.memberContent[0];
        	 	
        	 	originalMbrSq = dataContent.mbrSq;								//회원순번
        	 	originalMbrNm = dataContent.mbrNm;								//이름
        	 	originalMbrId = dataContent.mbrId;								//아이디
        	 	originalMbrPasswrd = dataContent.mbrPasswrd;					//비밀번호
        	 	originalMbrNcknm = dataContent.mbrNcknm;						//닉네임
        	 	originalMbrEmail = dataContent.mbrEmail;						//이메일
        	 	originalMbrBirth = dataContent.mbrBirth;						//생년월일
        	 	originalMbrSexCd = dataContent.mbrSexCd;						//성별
        	 	originalMbrCpNum = dataContent.mbrCpNum;						//휴대폰번호
        	 	originalRegDt = dataContent.regDt;								//회원등록일시
        	 	originalMbrHomeAddr = dataContent.mbrHomeAddr;					//집주소
        	 	originalMbrDelivryAddr = dataContent.mbrDelivryAddr;			//배송지 주소
        	 	originalUseYn = dataContent.useYn;								//사용여부
        	 	originalMbrCpCertDate = dataContent.mbrCpCertDate;				//전화인증날짜	
        	 	originalMbrCpCertDi = dataContent.mbrCpCertDi;					//회원 휴대폰 인증 DI
        	 	originalMbrAccountNo = dataContent.mbrAccountNo;				//정산 계좌번호
        	 	originalMbrBankCd = dataContent.mbrBankCd;						//정산 계좌 은행 코드
        	 	originalMbrBankNm = dataContent.mbrBankNm;						//정산 계좌 은행 이름
        	 	originalMbrProfileImgUrl = dataContent.mbrProfileImgUrl;						//프로필데이터

        	 	originalMbrGenreList = dataContent.mbrGenreList;						//프로필데이터
        	 	originalMbrhobbyList = dataContent.mbrhobbyList;						//프로필데이터
        	 	originalMbrageList = dataContent.mbrageList;						//프로필데이터
        	 	originalMbrjobList = dataContent.mbrjobList;						//프로필데이터
        	 	originalmbrintro = dataContent.mbrintro;						//프로필데이터


        	 	
        	 	$("#uMbrSq").val(originalMbrSq);
        	 	$("#uMbrNm").val(originalMbrNm);
        	 	$("#uMbrId").val(originalMbrId);
        	 	$("#uMbrNcknm").val(originalMbrNcknm);
        	 	$("#uMbrNcknmTemp").val(originalMbrNcknm);
        	 	$("#uMbrCpNum").val(originalMbrCpNum);
        	 	$("#uMbrDelivryAddr").val(originalMbrDelivryAddr);
        	 	$("#uMbrCpCertDate").val(originalMbrCpCertDate);
        	 	$("input[name=name]").val(originalMbrNm);
       		 	$("#mbrintro").val(originalmbrintro);

       		 
        	 	if(originalMbrProfileImgUrl !=null && originalMbrProfileImgUrl != ""){
            	 	$("#dropZone_artstProfileImgUrl").attr("src", originalMbrProfileImgUrl);
        	 	}
        	 	if(originalMbrAccountNo != null && originalMbrAccountNo != ""){
        	 		$("#mbrAccountNo").val(originalMbrBankNm+" "+originalMbrAccountNo);
        	 	}
        	 	
        		 if( originalMbrProfileImgUrl == null || originalMbrProfileImgUrl == ""){
        			 $("#profileImgaDel").hide();
        		 }else{
        			 $("#profileImgaDel").show();
        		 }
        		 
        		 var mbrGenreList = originalMbrGenreList.split(',', 2);
        		 var mbrhobbyList = originalMbrhobbyList.split(',', 2);
        		 var mbrageList = originalMbrageList.split(',', 2);
        		 var mbrjobList = originalMbrjobList.split(',', 2);
        		 
        		 mbrGenreList.forEach(function(item){
        			 $("input[name=genre][value="+item+"]").prop("checked",true);
    			});
        		 
        		 mbrhobbyList.forEach(function(item){
        			 $("input[name=hobby][value="+item+"]").prop("checked",true);
    			});
        		 mbrageList.forEach(function(item){
        			 $("input[name=age][value="+item+"]").prop("checked",true);
    			});
        		 mbrjobList.forEach(function(item){
        			 $("input[name=job][value="+item+"]").prop("checked",true);
    			});
        		 
        		 
        	 }
           },
           error: function(error) {
        	   var errorJson = JSON.stringify(error);
               console.log(errorJson);
           }
	})
}
//비밀번호 변경 버튼 클릭시
function btn_newPasswrd(){
	$("#div_originalMbrPasswrd").css("display", "none");
	$("#div_newMbrPasswrd").css("display", "");
}
//주소변경 버튼 클릭시
function btn_newAddr(){
	$("#div_originalMbrDelivryAddr").css("display", "none");
	$("#div_newMbrDelivryAddr").css("display", "");
}
//활동명 특수문자 제한
function uCharacterCheck(obj){
	$("#uMbrNcknmBtn").css("display", "");
	if(obj.value == originalMbrNcknm) {
		mbrNcknmCheckYn = "Y";
		$("#uMbrNcknmBtn").css("display", "none");
		$("#uMbrNcknmCheck").css("display", "none");
	}else{
		mbrNcknmCheckYn = "N";
		$("#uMbrNcknmBtn").css("display", "");
	}
	var regExp = /[ \{\}\[\]\/?,;:|\)*~`!^\-+┼<>@\#$%&\'\"\\\(\=]/gi; 
	
	if(regExp.test(obj.value)){
		fn_validation('uMbrNcknmCheck','활동명에는 문자, 숫자, 밑줄 및 마침표만 사용할 수 있습니다.', 'R');
		obj.value = obj.value.substring( 0 , obj.value.length - 1 ); // 입력한 특수문자 한자리 지움
		document.getElementById("uMbrNcknmBtn").disabled = true;
	}else{
		fn_validation('uMbrNcknmCheck','활동명을 입력 후 중복체크를 해주세요.', 'B');
		document.getElementById("uMbrNcknmBtn").disabled = false;
	}
}

//활동명 길이 제한
function uMbrNcknmLength(obj){
	if(obj.value == originalMbrNcknm) {
		mbrNcknmCheckYn = "Y";
		$("#uMbrNcknmBtn").css("display", "none");
	}else{
		mbrNcknmCheckYn = "N";
		$("#uMbrNcknmBtn").css("display", "");
	}
	if(obj.value.length < 2){
		fn_validation('uMbrNcknmCheck','활동명은 2글자 이상이여야 합니다.', 'R');
		document.getElementById("uMbrNcknmBtn").disabled = true;
		obj.focus();
	}else{
		fn_validation('uMbrNcknmCheck','활동명을 입력 후 중복체크를 해주세요.', 'B');
		document.getElementById("uMbrNcknmBtn").disabled = false;
	}
}
//활동명 중복체크
function uMbrNcknmCheck(obj){
	$.ajax({
      type: "post",
      url: "/member/mbrNcknmCheck",
      data: {
      	mbrNcknm : document.getElementById("uMbrNcknm").value
      },
      success: function(data) {
      	if (data.result > 0) {
      		obj.disabled = true;
      		obj.value = "";
      		modalAlertShow("활동명이 중복되었습니다. 다시 입력해주세요.", "uMbrNcknm");
      		mbrNcknmCheckYn = "N";
      	}else{
      		mbrNcknmCheckYn = "Y";
      		modalAlertShow("사용 가능한 활동명입니다.");   
      		fn_validation('uMbrNcknmCheck', '', 'B');
      	}
      },
      error: function(error) {
          alert("오류 발생" + error);
      }
	});
}


//등록된 이메일 사용 여부
$("#userInputEmailUsing").change(function(){
	
	 if($("#userInputEmailUsing").is(":checked")){
         //체크박스 체크
         $("#uMbrId").attr("readonly",true);
         //설명 문구
         $("#uMbrIdCheck").hide();
	}else{
    	//체크박스 체크 해제
		$("#uMbrId").attr("readonly",false);
    	//설명 문구
    	$("#uMbrIdCheck").show();
    	$("#uMbrIdCheck").html("주로 사용하는 이메일을 입력해 주세요. 경매/판매 내역을 발송해 드립니다.");
    	$("#uMbrIdCheck").css("color","#999999");
     }
});


//이메일 인증
$("#EmailCertification").on('click', function(event){

	var mbrId = $("#uMbrId").val()
	
	var params = {
		mbrId : mbrId	
	}
	$.ajax({
	     type: "post",
	     url: "/myPage/memberUpdatEmailCertification",
	     data: params,
	     success: function(data) {
	    	 
	    	 modalAlertShow("인증번호 발송이 완료되었습니다.<br>입력한 이메일에서 인증번호 확인을 해주십시오.","");
	    	 $("#emailCertCode").show();
	    	 $("#emailCertChk").val(data);
	   	 },
	     error: function(error) {
	  	   var errorJson = JSON.stringify(error);
	         console.log(errorJson);
	     }
	})
	
});

//이메일 인증번호 대조
$("#emailCertBtn").click(function(){
	
	var emailCertChk = $("#emailCertChk").val();
	var emailCert	= $("#emailCert").val();
	
	if(emailCert == emailCertChk){
		modalAlertShow("인증번호가 일치 합니다.","");
		$("#emailCertCode").hide();
		
	}else{
		modalAlertShow("인증번호가 일치하지 않습니다.","");
	}
});

//회원수정
$("#memberUpdateBtn").on('click', function(event){
	
	//회원번호
	var mbrSq = $("#uMbrSq").val();
	//회원아이디
	var mbrId = $("#uMbrId").val();
	//비밀번호
	var mbrPasswrd = $("#uMbrPasswrd").val();
	//비밀번호 확인
	var mbrPasswrdConfirm = $("#uMbrPasswrdConfirm").val();
	//성명
	var mbrNm = $("#uMbrNm").val();
	//휴대번호
	var mbrCpNum = $("#uMbrCpNum").val();
	//휴대폰 본인인증 여부
	var mbrCpCertYn = $("#uMbrCpCertYn").val();
	//휴대폰 본인인증 날짜
	var mbrCpCertDate = $("#uMbrCpCertDate").val();
	//회원 활동명
	var mbrNcknm = $("#uMbrNcknm").val();
	
	//회원 주소
	var mbrDelivryAddr = $("#newMbrDelivryAddr").val();
	var mbrDelivryAddrDetail = $("#newMbrDelivryAddrDetail").val();
	
	//회원 퓨대폰 인증 DI
	var mbrCpCertDi = $("#uMbrCpCertDi").val();
	
	var artstProfileImgUrl 	= $("#artstProfileImgUrl").val();	//☆ 프로필 이미지
	var mbrintro = $("#mbrintro").val();
			
	//휴대폰 번호 변경시
	if(mbrCpNum != originalMbrCpNum){
		if(originalMbrCpCertDi != null && originalMbrCpCertDi != ""){
			if(originalMbrCpCertDi != mbrCpCertDi){
				modalAlertShow("회원정보에 등록된 회원과 동일인으로 본인인증을 해주세요.");
				return;
			}
		}
		//이름
		/* if(isEmpty(mbrNm)) {
			 fn_validation('uMbrNmCheck','이름을 정확히 입력하세요', 'R');
			 return;
		 }
		fn_validation('uMbrNmCheck','', 'B') */
		
		//휴대폰번호
		 /* if(isEmpty(uMbrCpNum)) {
			 fn_validation('uMbrCpNumCheck','휴대폰번호를 정확히 입력하세요.', 'R');
			 return;
		 }
		 
		fn_validation('uMbrCpNumCheck','', 'B'); */
	}
	
	//비밀번호--------------------------------------------------------------------//
	if ($("#div_originalMbrPasswrd").css("display") == "none") { 
		//비밀번호가 새로 입력한 비밀번호와 동일하다면
		if(mbrPasswrd == originalMbrPasswrd){
			fn_validation('uMbrPwdCheck','이전과 동일한 비밀번호 입니다. 다시 입력해주세요.', 'R');
			return;
		}
		//비밀번호 문자 입력이 안되었다면..
		if(isEmpty(mbrPasswrd)) {
			fn_validation('uMbrPwdCheck','영문/숫자/특수문자 2가지 이상 조합 (8~20자)', 'R');
			return;
		} 
		
		//영어,숫자,특수문자 8~20사이
		if(!/^[a-zA-Z0-9!@#$%^&*()?_~]{8,20}$/.test(mbrPasswrd))
		{
			fn_validation('uMbrPwdCheck','영문/숫자/특수문자 2가지 이상 조합 (8~20자)', 'R');
			return;
		}
		
		var chk = 0;
		if(mbrPasswrd.search(/[0-9]/g) != -1 ) chk ++;
		if(mbrPasswrd.search(/[a-z]/ig)  != -1 ) chk ++;
		if(mbrPasswrd.search(/[!@#$%^&*()?_~]/g)  != -1  ) chk ++;
			
		
		if(chk < 3)
		{
			fn_validation('uMbrPwdCheck','3개 이상 연속되거나 동일한 문자/숫자 제외, 아이디(이메일) 제외', 'R');
			return;
		}
		
		 var SamePass_0 = 0; //동일문자 카운트
		 var SamePass_1 = 0; //연속성(+) 카운드
		 var SamePass_2 = 0; //연속성(-) 카운드
		 
		 var chr_pass_0;
		 var chr_pass_1;
		 
		 for(var i=0; i < mbrPasswrd.length; i++) {
		  chr_pass_0 = mbrPasswrd.charAt(i);
		  chr_pass_1 = mbrPasswrd.charAt(i+1);
		 
		  //동일문자 카운트
		  if(chr_pass_0 == chr_pass_1) {
		   SamePass_0 = SamePass_0 + 1
		  } // if
		 
		 
		  //연속성(+) 카운드
		  if(chr_pass_0.charCodeAt(0) - chr_pass_1.charCodeAt(0) == 1) {
		   SamePass_1 = SamePass_1 + 1
		  } // if
		 
		  //연속성(-) 카운드
		  if(chr_pass_0.charCodeAt(0) - chr_pass_1.charCodeAt(0) == -1) {
		  	SamePass_2 = SamePass_2 + 1
		  } // if
		 } // for
		 
		 if(SamePass_0 > 1) {
			 fn_validation('uMbrPwdCheck','3개 이상 연속되거나 동일한 문자/숫자 제외, 아이디(이메일) 제외', 'R');
			 return;
		 } // if
		 $('#uMbrPwdCheckD').css('display','none');
		 
		 if(SamePass_1 > 1 || SamePass_2 > 1 )  {
			 fn_validation('uMbrPwdCheck','3개 이상 연속되거나 동일한 문자/숫자 제외, 아이디(이메일) 제외', 'R');
			 return;
		 }
		 
		 // 비밀번호 아이디 포함 여부
		 if(mbrPasswrd.search(mbrId)>-1)
		 {
			 fn_validation('uMbrPwdCheck','3개 이상 연속되거나 동일한 문자/숫자 제외, 아이디(이메일) 제외', 'R');
			  return;
		 }
		 
		 //비밀번호.비밀번호확인 일치 체크 mbrPwdReCheck
		 if(mbrPasswrd != mbrPasswrdConfirm) {
			fn_validation('mbrPwdReCheck','비밀번호가 일치 하지 않습니다.', 'R');
			return;
		 }
		
		 fn_validation('mbrPwdReCheck','확인을 위해 새 비밀번호를 다시 입력해주세요.', 'B');
	}else{
		mbrPasswrd = originalMbrPasswrd;
	}
	//비밀번호--------------------------------------------------------------------//
	
	//활동명 중복체크 여부
	if(mbrNcknmCheckYn == "N"){
		fn_validation('uMbrNcknmCheck','활동명 중복체크를 해주세요.', 'R');
		return;
	}
	
	//주소 수정시
	if ($("#div_originalMbrDelivryAddr").css("display") == "none") { 
		//주소 없을시
		if(mbrDelivryAddr == null || mbrDelivryAddr == ""){
			modalAlertShow("주소를 입력해주세요.");
			return;
		}
		if(mbrDelivryAddrDetail == null || mbrDelivryAddrDetail == ""){
			modalAlertShow("상세 주소를 입력해주세요.");
			return;
		}
		mbrDelivryAddr = mbrDelivryAddr+" "+mbrDelivryAddrDetail;
	}else{
		mbrDelivryAddr = originalMbrDelivryAddr;
	}
	
	$("input[name=genre]:checked").each(function(){
		genrelist.push($(this).val());
	    console.log("체크된 값 : " + genrelist);
	});


	$("input[name=hobby]:checked").each(function(){
		hobbylist.push($(this).val());
	    console.log("체크된 값 : " + hobbylist);
	});

	$("input[name=age]:checked").each(function(){
		agelist.push($(this).val());
	    console.log("체크된 값 : " + agelist);
	});

	$("input[name=job]:checked").each(function(){
		joblist.push($(this).val());
	    console.log("체크된 값 : " + joblist);
	});
	
	let memParams = {
	  "mbrSq" : mbrSq,
      "mbrProfileImgUrl":artstProfileImgUrl,
	  "mbrId" : mbrId,
	  "mbrEmail" : mbrId,
	  "mbrPasswrd" : mbrPasswrd,
	  "mbrNm" : mbrNm,
	  "mbrCpNum" : mbrCpNum, 
	  "mbrCpCertYn" : mbrCpCertYn,
	  "mbrCpCertDate" : mbrCpCertDate,
	  "mbrCpCertDi" : mbrCpCertDi,
	  "mbrNcknm" : mbrNcknm,
	  "mbrDelivryAddr" : mbrDelivryAddr,
	  "mbrGenreList" : genrelist.toString(),
	  "mbrhobbyList" : hobbylist.toString(),
	  "mbrageList" : agelist.toString(),
	  "mbrjobList" : joblist.toString(),
	  "mbrintro" : mbrintro
	  
	}
	console.log(memParams);
	
	//정산 계좌 정보
	if(mbrAccountNo != null && mbrAccountNo != ""){
		memParams.mbrAccountNo = mbrAccountNo;
		memParams.mbrBankCd = mbrBankCd;
		memParams.mbrBankNm = mbrBankNm;
	}
	
	 $.ajax({
	     type: "post",
	     url: "/member/myPage/memberUpdateData",
	     data: memParams,
	     success: function(data) {
	    	 modalAlertShow("회원수정이 완료 되었습니다.","reload");
	    },
	     error: function(error) {
	  	   var errorJson = JSON.stringify(error);
	         console.log(errorJson);
	     }
	})
	
});

//휴대폰 인증 성공
function mobileAuthSuccess()
{
	
	$("#smsCertificationCheck").css('display',"block");
	fn_validation('smsCertificationCheck','휴대폰 인증완료.', 'B');
}


//휴대폰 인증 실패
function mobileAuthFail()
{
	modalAlertShow("인증에 실패했습니다.","");
}



$(window).on("resize", function () {
    if(window.matchMedia('(min-width: 1537px)').matches){
  	    document.querySelectorAll(".item").forEach((item) => {
      	     item.style.gridRowEnd = `span ${item.clientHeight + 0}`;
      	  });
  	    
    }else if(window.matchMedia('(min-width: 751px)').matches) {
    	
  	      document.querySelectorAll(".item").forEach((item) => {
      	     item.style.gridRowEnd = `span ${item.clientHeight + 280}`;
      	  });
    	
    }else{
    	var swiper = new Swiper(".mySwiper2", {
          slidesPerView: 1,
          slidesPerGroup: 1,
          loop: true,
          loopFillGroupWithBlank: true,
          pagination: {
            el: ".swiper-pagination",
            clickable: true
          },
          navigation: {
            nextEl: ".swiper-button-next",
            prevEl: ".swiper-button-prev"
          }
     });
    	
    	document.querySelectorAll(".item").forEach((item) => {
      	     item.style.gridRowEnd = `span ${item.clientHeight + 150}`;
      	  });
  	  
     }
}).resize();



$(function () {
  $(".elm").hover(
	function(){ $(this).addClass('hover') },
	    function(){ $(this).removeClass('hover') }
	  )
	  $(".cn-b").hover(
	function(){ $(this).addClass('gis') },
	    function(){ $(this).removeClass('gis') }
	  )
});

$(function() {
	/* 메뉴바 FIXED */
	if (jQuery(window).width() > 0) {
	  jQuery(window).on("scroll",function(ev){
	      if(jQuery(window).scrollTop() > 80 ) { /* 해당 높이를 벗어나면 fixed 클래스 추가 */
	          jQuery('.head-wrap').addClass('fixed');
	      }else{
	          jQuery('.head-wrap').removeClass('fixed');
	      }
	      return false;
	  });
	}
});

/* jQuery(function($) {

    window.onresize = function(){
      document.location.reload();
    };

}); */



var delay = 300;
var timer = null;

//Javascript
// window.addEventListener('resize', function(){
// 	clearTimeout(timer);
// 	timer = setTimeout(function(){
// 		document.location.reload();
// 	}, delay);
// });

//jQuery
// $(window).on('resize', function(){
// 	clearTimeout(timer);
// 	timer = setTimeout(function(){
// 		document.location.reload();
// 	}, delay);
// });

$('ul.dropdown-menu.mega-dropdown-menu').on('click', function(event){
    // The event won't be propagated up to the document NODE and 
    // therefore delegated events won't be fired
    event.stopPropagation();
});


//갯수 확인
function chkbox(ff) { 
    if (ff.checked){
        tc += 1; 
    } else{
        tc -= 1; 
    } 

    if (tc > mc) { 
        alert ("3개 만 선택해 주세요!"); 
    ff.checked = false; 
    tc -= 1; 
    }
} 

//갯수 확인
function chkbox1(ff) { 
    if (ff.checked){
        tc1 += 1; 
    } else{
        tc1 -= 1; 
    } 

    if (tc1 > mc1) { 
        alert ("3개 만 선택해 주세요!"); 
    ff.checked = false; 
    tc1 -= 1; 
    }     
} 

//갯수 확인
function chkbox2(ff) { 
    if (ff.checked){
        tc2 += 1; 
    } else{
        tc2 -= 1; 
    } 

    if (tc2 > mc2) { 
        alert ("3개 만 선택해 주세요!"); 
    ff.checked = false; 
    tc2 -= 1; 
    }     
} 

//갯수 확인
function chkbox3(ff) { 
    if (ff.checked){
        tc3 += 1; 
    } else{
        tc3 -= 1; 
    } 

    if (tc3 > mc3) { 
        alert ("3개 만 선택해 주세요!"); 
    ff.checked = false; 
    tc3 -= 1; 
    }     
} 

</script>

<script src="//t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js"></script>
	
<!-- 네이버 광고 로그분석 추적 코드 -->
<script type="text/javascript" src="//wcs.naver.net/wcslog.js"></script> 
<script type="text/javascript">
if(!wcs_add) var wcs_add = {}; 
wcs_add["wa"] = "s_17cc71bb9b8f";
if (!_nasa) var _nasa={}; 
if (window.wcs) {
wcs.inflow("www.dealing-art.com"); 
wcs_do(_nasa);
}
</script>

</body>



</html>
