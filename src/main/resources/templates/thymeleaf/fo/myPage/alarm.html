<!DOCTYPE HTML>
<html lang="ko" xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">
<head>
	<title>딜링아트</title>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="initial-scale=1,user-scalable=no,maximum-scale=1,width=device-width">
	<meta name="mobile-web-app-capable" content="yes">
	<meta name="apple-mobile-web-app-capable" content="yes">
	<meta name="theme-color" content="#000000">
	<meta name="description" content="">
	<meta name="author" content="">
	<meta name="keywords" content="미술,아트,경매,수수료,정찰,운송,보험,직거래,dealingart">
	<meta name="description" content="개인간 미술품 거래 마켓플레이스">
	<meta property="og:description" content="개인간 미술품 거래 마켓플레이스">
	<meta property="og:type" content="website">
	<meta property="og:title" content="DeailngArt">
	<meta property="og:image" content="https://www.dealing-art.com/resources/img/DA_logo_og.png">
	<meta property="og:url" content="https://www.dealing-art.com">
	
	<!-- google -->
    <meta name="google-site-verification" content="EKiW_Lm3Qw-DYnLT9qokEpZT2Sa8tSQuVWhVEvs4kPk" />
    <!-- faceBook -->
    <meta name="facebook-domain-verification" content="zrw9l0gyn4u5jja4qv7kpleb4i914k" />
    
    <!-- Global site tag (gtag.js) - Google Analytics -->
	<!-- HTML의 <head> 섹션에 전체 사이트 태그를 복사합니다. -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=G-WRJBSR52MT"></script>
	
	<script>
	  window.dataLayer = window.dataLayer || [];
	  function gtag(){dataLayer.push(arguments);}
	  gtag('js', new Date());
	
	  gtag('config', 'G-WRJBSR52MT');
	</script>
	
	<!-- Google Tag Manager -->
	<!-- 페이지의 <head>에서 가능한 한 높은 위치에 코드를 붙여넣으세요. -->
	<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
	new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
	j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
	'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
	})(window,document,'script','dataLayer','GTM-NBP5CQ9');</script>
	<!-- End Google Tag Manager -->
			
	<!-- Google Tag Manager (noscript) -->
	<!-- 또한 여는 <body> 태그 바로 뒤에 코드를 붙여넣으세요. -->
	<noscript>
		<iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NBP5CQ9"height="0" width="0" style="display:none; visibility:hidden"></iframe>
	</noscript>
	<!-- End Google Tag Manager (noscript) -->
	
	
	<!-- 페이스북 Meta Pixel Code -->
	<script>
	  !function(f,b,e,v,n,t,s)
	  {if(f.fbq)return;n=f.fbq=function(){n.callMethod?
	  n.callMethod.apply(n,arguments):n.queue.push(arguments)};
	  if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
	  n.queue=[];t=b.createElement(e);t.async=!0;
	  t.src=v;s=b.getElementsByTagName(e)[0];
	  s.parentNode.insertBefore(t,s)}(window, document,'script',
	  'https://connect.facebook.net/en_US/fbevents.js');
	  fbq('init', '5995234030505207');
	  fbq('track', 'PageView');
	</script>
	<noscript><img height="1" width="1" style="display:none" src="https://www.facebook.com/tr?id=5995234030505207&ev=PageView&noscript=1"/></noscript>
    
    <style>
    	.head-wrap{border-bottom:#e9e9e9 1px solid;}
    	.swi-box::before{background-color:#f9f9f9;}
    	.footer-wrap{margin-top:0;}
    	.hd-div{background-color:#fff;}
    	.swiper-slide{background-color:rgb(255 255 255 / 0%);}
    	@media screen and (min-width: 1px) and (max-width: 1536px){
    	.con-left{display:none}
    	}
    </style>
    
    <link rel="icon" type="image/png" href="resources/img/favicon.png">
    
</head>

<body>
	<div class="wrap">
	<th:block th:replace="thymeleaf/header :: headerFragment"></th:block>		
		<div class="body-wrap">
			<div class="contents">
				<div th:text="${session.mbrSq}" id="mbrSq" style="display:none"></div>
				<div class="con-wrap">
					
					<th:block th:replace="thymeleaf/myPageLeft :: myPageLeftFragment"></th:block>
					
					<div class="con-right">
					
						<div class="me-center">
							<h4 class="mec-h4">이벤트 및 혜택 알림</h4>
							<p class="mec-p">경매, 판매 등 거래알림 및 이벤트 정보를 알려드립니다.</p>
							<div class="me-redia">
								<dl class="me-dl">
									<dt>이메일</dt>
									<dd>
										<p class="btn-switch">					
											<input type="radio" id="eml_yes" name="eml_switch" class="mbrEmlAlarm btn-switch__radio btn-switch__radio_yes" value="Y"/>
											<input type="radio" checked id="eml_no" name="eml_switch" class="mbrEmlAlarm btn-switch__radio btn-switch__radio_no" value="N"/>		
											<label for="eml_yes" class="btn-switch__label btn-switch__label_yes"><span class="btn-switch__txt"></span></label>
											<label for="eml_no" class="btn-switch__label btn-switch__label_no"><span class="btn-switch__txt"></span></label>							
										</p>
									</dd>
									<dt>문자 메세지</dt>
									<dd>
										<p class="btn-switch">					
											<input type="radio" id="cp_yes" name="cp_switch" class="mbrCpAlarm btn-switch__radio btn-switch__radio_yes" value="Y"/>
											<input type="radio" checked id="cp_no" name="cp_switch" class="mbrCpAlarm btn-switch__radio btn-switch__radio_no" value="N"/>		
											<label for="cp_yes" class="btn-switch__label btn-switch__label_yes"><span class="btn-switch__txt"></span></label>
											<label for="cp_no" class="btn-switch__label btn-switch__label_no"><span class="btn-switch__txt"></span></label>							
										</p>
									</dd>
								</dl>
							</div>
						</div>
						
					</div>
				</div>
				
			</div>
		</div>
	<th:block th:replace="thymeleaf/footer :: footerFragment"></th:block>
	</div>


<script type="text/javascript"> 

//회원 정보 호출
function memberContentData(mbrSq) {
	
	console.log("memberContentData : "+ mbrSq);
	
	$.ajax({
           type: "post",
           url: "/myPage/memberContentData",
           data: {
        	   mbrSq : mbrSq
            },
           success: function(data) {
        	 
        	 if (typeof data != "undefined") {
        	 
        		console.log(data);   
        	 	dataContent = data.memberContentData.memberContent[0];
        	 
        	 	
        	 	var mbrEmlAlarm = dataContent.mbrEmlAlarm	//이메일 설정 알람
        	 	var mbrCpAlarm = dataContent.mbrCpAlarm		//휴대폰 설정 알람
        	 	
        	 	$(".mbrEmlAlarm:input[value='"+mbrEmlAlarm+"']").prop("checked", true);
        	 	$(".mbrCpAlarm:input[value='"+mbrCpAlarm+"']").prop("checked", true);
        	 	 
        	 	
        	 	console.log("mbrEmlAlarm :"+mbrEmlAlarm);
        	 	console.log("mbrCpAlarm :"+mbrCpAlarm);
        	 
        	 }
           },
           error: function(error) {
        	   var errorJson = JSON.stringify(error);
               console.log(errorJson);
           }
	})
}

$( document ).ready(function() {
	$("#alarm").addClass("active");
 	var sMbrSq = $("#mbrSq").html();
 	
	 memberContentData(sMbrSq);
	 
	 $("input[name='eml_switch']:radio").change(function () {
	        
	        var sMbrSq = $("#mbrSq").html();
	        var emlSwitchValue = this.value;
	        
	        let params = {
	        	mbrSq : sMbrSq,
	        	mbrEmlAlarm : emlSwitchValue
	        }
	       
	        $.ajax({
	            type: "post",
	            url: "/myPage/memberAlarmData",
	            data: params,
	            success: function(data) {
	         	 
	         	 if (typeof data != "undefined") {
	         	 
	         		console.log(data);   
	         	 }
	            },
	            error: function(error) {
	         	   var errorJson = JSON.stringify(error);
	                console.log(errorJson);
	            }
	 	})
	});
	 
	 $("input[name='cp_switch']:radio").change(function () {
	        
	        var sMbrSq = $("#mbrSq").html();
	        var cpSwitchValue = this.value;
	        
	        let params = {
	        	mbrSq : sMbrSq,
	        	mbrCpAlarm : cpSwitchValue
	        }
	       
	        $.ajax({
	            type: "post",
	            url: "/myPage/memberAlarmData",
	            data: params,
	            success: function(data) {
	         	 
	         	 if (typeof data != "undefined") {
	         	 
	         		console.log(data);   
	         	 }
	            },
	            error: function(error) {
	         	   var errorJson = JSON.stringify(error);
	                console.log(errorJson);
	            }
	 	})
	});
	 
});



$(window).on("resize", function () {
    if(window.matchMedia('(min-width: 1537px)').matches){
  	    document.querySelectorAll(".item").forEach((item) => {
      	     item.style.gridRowEnd = `span ${item.clientHeight + 0}`;
      	  });
  	    
    }else if(window.matchMedia('(min-width: 751px)').matches) {
    	
  	      document.querySelectorAll(".item").forEach((item) => {
      	     item.style.gridRowEnd = `span ${item.clientHeight + 280}`;
      	  });
    	
    }else{
    	var swiper = new Swiper(".mySwiper2", {
          slidesPerView: 1,
          slidesPerGroup: 1,
          loop: true,
          loopFillGroupWithBlank: true,
          pagination: {
            el: ".swiper-pagination",
            clickable: true
          },
          navigation: {
            nextEl: ".swiper-button-next",
            prevEl: ".swiper-button-prev"
          }
     });
    	
    	document.querySelectorAll(".item").forEach((item) => {
      	     item.style.gridRowEnd = `span ${item.clientHeight + 150}`;
      	  });
  	  
     }
}).resize();



$(function () {
  $(".elm").hover(
	function(){ $(this).addClass('hover') },
	    function(){ $(this).removeClass('hover') }
	  )
	  $(".cn-b").hover(
	function(){ $(this).addClass('gis') },
	    function(){ $(this).removeClass('gis') }
	  )
});

$(function() {
	/* 메뉴바 FIXED */
	if (jQuery(window).width() > 0) {
	  jQuery(window).on("scroll",function(ev){
	      if(jQuery(window).scrollTop() > 80 ) { /* 해당 높이를 벗어나면 fixed 클래스 추가 */
	          jQuery('.head-wrap').addClass('fixed');
	      }else{
	          jQuery('.head-wrap').removeClass('fixed');
	      }
	      return false;
	  });
	}
});

/* jQuery(function($) {

    window.onresize = function(){
      document.location.reload();
    };

}); */



var delay = 300;
var timer = null;

//Javascript
// window.addEventListener('resize', function(){
// 	clearTimeout(timer);
// 	timer = setTimeout(function(){
// 		document.location.reload();
// 	}, delay);
// });

//jQuery
// $(window).on('resize', function(){
// 	clearTimeout(timer);
// 	timer = setTimeout(function(){
// 		document.location.reload();
// 	}, delay);
// });

$('ul.dropdown-menu.mega-dropdown-menu').on('click', function(event){
    // The event won't be propagated up to the document NODE and 
    // therefore delegated events won't be fired
    event.stopPropagation();
});

$(function() { 
	if(sAuthSqVal == 2){
		document.getElementById("portfolio").style.display="";
	}
	$("#conTitle").empty();
	const conBtn = document.getElementById("conBtn");
	conBtn.remove();
	var conTitleHtml = "";
	conTitleHtml += '<h3>설정</h3>';
	$("#conTitle").append(conTitleHtml).trigger("create");
});   
</script>
    
	
	
	
	
</body>

</html>
