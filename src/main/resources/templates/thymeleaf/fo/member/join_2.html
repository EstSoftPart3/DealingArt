
<!DOCTYPE HTML>
<html lang="ko" xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">

<head>
	<title>딜링아트</title>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="initial-scale=1,user-scalable=no,maximum-scale=1,width=device-width">
	<meta name="mobile-web-app-capable" content="yes">
	<meta name="apple-mobile-web-app-capable" content="yes">
	<meta name="theme-color" content="#000000">
	
	<meta name="author" content="">
	<meta name="keywords" content="미술,아트,경매,수수료,정찰,운송,보험,직거래,dealingart">
	<meta name="description" content="미술품 거래의 새로운 트렌드">
	<meta property="og:description" content="미술품 거래의 새로운 트렌드">
	<meta property="og:type" content="website">
	<meta property="og:title" content="딜링아트">
	<meta property="og:image" content="https://www.dealing-art.com/resources/img/DA_logo_og.png">
	<meta property="og:url" content="https://www.dealing-art.com">
	
	<!-- google -->
    <meta name="google-site-verification" content="EKiW_Lm3Qw-DYnLT9qokEpZT2Sa8tSQuVWhVEvs4kPk" />
    <!-- faceBook -->
    <meta name="facebook-domain-verification" content="bgotqya9tcsrgrmspnq0uywh85kjzh" />
    
    <!-- Global site tag (gtag.js) - Google Analytics -->
	<!-- HTML의 <head> 섹션에 전체 사이트 태그를 복사합니다. -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=G-WRJBSR52MT"></script>
	
	<script>
	  window.dataLayer = window.dataLayer || [];
	  function gtag(){dataLayer.push(arguments);}
	  gtag('js', new Date());
	
	  gtag('config', 'G-WRJBSR52MT');
	</script>
	
	<!-- Google Tag Manager -->
	<!-- 페이지의 <head>에서 가능한 한 높은 위치에 코드를 붙여넣으세요. -->
	<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
	new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
	j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
	'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
	})(window,document,'script','dataLayer','GTM-NBP5CQ9');</script>
	<!-- End Google Tag Manager -->
			
	<!-- Google Tag Manager (noscript) -->
	<!-- 또한 여는 <body> 태그 바로 뒤에 코드를 붙여넣으세요. -->
	<noscript>
		<iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NBP5CQ9"height="0" width="0" style="display:none; visibility:hidden"></iframe>
	</noscript>
	<!-- End Google Tag Manager (noscript) -->
	
	
	<!-- 페이스북 Meta Pixel Code -->
	<script>
	  !function(f,b,e,v,n,t,s)
	  {if(f.fbq)return;n=f.fbq=function(){n.callMethod?
	  n.callMethod.apply(n,arguments):n.queue.push(arguments)};
	  if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
	  n.queue=[];t=b.createElement(e);t.async=!0;
	  t.src=v;s=b.getElementsByTagName(e)[0];
	  s.parentNode.insertBefore(t,s)}(window, document,'script',
	  'https://connect.facebook.net/en_US/fbevents.js');
	  fbq('init', '5995234030505207');
	  fbq('track', 'PageView');
	</script>
	<noscript><img height="1" width="1" style="display:none" src="https://www.facebook.com/tr?id=5995234030505207&ev=PageView&noscript=1"/></noscript>
    
    <style>
    	.head-wrap{border-bottom:#e9e9e9 1px solid;}
    	@media screen and (min-width: 1px) and (max-width: 1536px){
    		.con-left{display:none}
    	}
    </style>
    
    <link rel="icon" type="image/png" href="/resources/img/favicon.png">
</head>

<body>
	<div class="wrap">
		<th:block th:replace="thymeleaf/header :: headerFragment"></th:block>
		
		<div class="body-wrap coll-mobile">
			<form id="memberInput" name="memberInput" method="post">
				<div class="contents max-1500">
					<div class="sub-title-1">
						<h3>회원가입</h3>
					</div>
					<div class="join_box">
						<div class="input-box">
							<div class="input-drox"><input type="text" class="input-3" placeholder="아이디/이메일" id="mbrId" name="mbrId" autocomplete="off" required/></div>
							<p class="inp-p" id="mbrIdCheck">주로 사용하는 이메일을 입력해 주세요. 경매/판매 내역을 발송해 드립니다.</p>
						</div>
						<div class="input-box">
							<div class="input-drox"><input type="password" class="input-3" placeholder="비밀번호" id="mbrPasswrd" name="mbrPasswrd"/></div>
							<p class="inp-p" id="mbrPwdCheckU">영문/숫자/특수문자 2가지 이상 조합 (8~20자)</p>
							<p class="inp-p" id="mbrPwdCheckD">아이디(이메일) 제외</p>kk
						</div>
						<div class="input-box">
							<div class="input-drox"><input type="password" class="input-3" placeholder="비밀번호 확인" id="mbrPasswrdConfirm" name="mbrPasswrdConfirm" required/></div>
							<p class="inp-p" id="mbrPwdReCheck">확인을 위해 새 비밀번호를 다시 입력해주세요.</p>
						</div>
	                    <div class="input-box-1">
	                        <div class="confirm-1" th:text="${sName}"></div>
	                    </div>
	                    <div class="input-box input-group">
							<input type="text" class="input-3" placeholder="활동명" id="mbrNcknm" autocomplete="off" onkeyup="characterCheck(this)" onblur="mbrNcknmLength(this)"/>
							<button type="button" class="group-btn" id="mbrNcknmBtn" onclick="mbrNcknmCheck(this)" disabled>중복체크</button>
						</div>
						<div class="input-box">
							<p class="inp-p" id="mbrNcknmCheck">활동명을 입력 후 중복체크를 해주세요.</p>
						</div>
						
	                    <div class="input-box-1">
	                        <div class="confirm-1" th:text="${sBirthDate}" id="mbrBirthTxt"></div>
	                    </div>
	                    <div class="input-box-1">
	                        <div class="confirm-1" th:text="${sMobileNo}" id="sMobileNoTxt"></div>
	                    </div>
	                     <div style="padding-top:10px;">
	                     	
		                    <input type="checkbox" id="s1" name="s1">
							<label for="s1"><span></span>(필수) 만 18세 이상입니다.</label><br/>
							<input type="checkbox" id="s2" name="s2">
							<label for="s2"><span></span>(필수) 이용 약관</label>&nbsp;&nbsp;<label style="font-size:11px;"><a href="/about/termOfService" target="_blank">[읽기]</a></label><br/>
							<input type="checkbox" id="s3" name="s3">
							<label for="s3"><span></span>(필수) 개인정보 수집 및 이용 동의</label>&nbsp;&nbsp;<label style="font-size:11px;"><a href="/about/privacyPolicy" target="_blank">[읽기]</a></label><br/>
							
		                    <input type="checkbox" id="s4" name="s4">
							<label for="s4"><span></span>(선택) 이벤트, 프로모션 알림 메일 및 SMS 수신</label>&nbsp;&nbsp;<label style="font-size:11px;"><a href="/about/marketing" target="_blank">[읽기]</a></label>
	                    </div>
	                    <div class="bat-box3" style="margin-top:15px;">
							<button type="button" class="ba-btn1" id="memberInputBtn"><span>회원 가입하기</span></button>
						</div>
					</div>
				</div>
				<!-- 회원성명 -->
				<input type="hidden" id="mbrNm" name="mbrNm" th:value="${sName}"/>
				<!-- 회원생년월일 -->
				<input type="hidden" id="mbrBirth" name="mbrBirth" th:value="${sBirthDate}" />
				<!-- 휴대번호 -->
				<input type="hidden" id="mbrCpNum" name="mbrCpNum" th:value="${sMobileNo}"/>
				<!-- 인증완료여부 -->
	            <input type="hidden" id="mbrCpCertYn" name="mbrCpCertYn" th:value="N">
	            <!-- 인증날짜 -->
				<input type="hidden" id="mbrCpCertDate" name="mbrCpCertDate" th:value="${sCipherTime}" >
				<!-- 인증정보 -->
				<input type="hidden" id="mbrCpCertDi" name="mbrCpCertDi" th:value="${sDupInfo}">
			</form>
		<th:block th:replace="thymeleaf/footer :: footerFragment"></th:block>
	</div>
</div>

	<script type="text/javascript">     
	  $(document).ready(function () {
	      $(".elm").hover(
	    	function(){ $(this).addClass('hover') },
	   	    function(){ $(this).removeClass('hover') }
	   	  )
	   	  $(".cn-b").hover(
	    	function(){ $(this).addClass('gis') },
	   	    function(){ $(this).removeClass('gis') }
	   	  )
      });
      /* 메뉴바 FIXED */
      if (jQuery(window).width() > 0) {
          jQuery(window).on("scroll",function(ev){
              if(jQuery(window).scrollTop() > 80 ) { /* 해당 높이를 벗어나면 fixed 클래스 추가 */
                  jQuery('.head-wrap').addClass('fixed');
              }
              else{
                  jQuery('.head-wrap').removeClass('fixed');
              }
              return false;
          });
      }
      
           
      $('ul.dropdown-menu.mega-dropdown-menu').on('click', function(event){
    	    // The event won't be propagated up to the document NODE and 
    	    // therefore delegated events won't be fired
    	    event.stopPropagation();
    	});
      
      
      //휴대폰 인증 성공후 같은 휴대번호로 회원등록 유무
      function mainMobileAuthSuccess() {
    		 
    	//가입희망자 성명
    	var sName		= $("#mbrNm").val();
    	//가입희망자 휴대본호
    	var sMobileNo	= $("#mbrCpNum").val();
    	//가임희망자 본인인증 (날짜시분초)
    	var sCipherTime	= $("#mbrCpCertDate").val();
    	//가입희망자 생년월일
    	var sBirthDate	= $("#mbrBirth").val();
    	//가입희망자 본인인증 휴대번호 고유키
    	var sDupInfo	= $("#mbrCpCertDi").val();
    	
    	
      	var mbrCpCertDi = sDupInfo;
      	var mbrNm = sName;
      	var mbrCpNum = sMobileNo.replace(/(^02.{0}|^01.{1}|[0-9]{3})([0-9]+)([0-9]{4})/,"$1-$2-$3");
      	$("#sMobileNoTxt").html(mbrCpNum);
      	var mbrCpCertDate = "20"+sCipherTime.replace(/^(\d{4})(\d\d)(\d\d)(\d\d)(\d\d)(\d\d)$/, '$1-$2-$3 $4:$5:$6');
      	var mbrBirth = sBirthDate.replace(/(\d{4})(\d{2})(\d{2})/g, '$1-$2-$3');
      	$("#mbrBirthTxt").html(mbrBirth);
      	//본인 고유키가 등록되어 있는지 아니지 파악 ??
      	var overlapYn = "N";
      	
      	$.ajax({
              type: "post",
              url: "/member/DuplicateCheck",
              data: {
              		mbrCpCertDi : mbrCpCertDi
              },
              success: function(data) {
            	  
              	if(data > 0){
              		
              		document.memberInput.mbrNm.value = "";
              		document.memberInput.mbrCpNum.value = "";
              		document.memberInput.mbrCpCertYn.value = "N";
              		document.memberInput.mbrCpCertDate.value = "";
              		document.memberInput.mbrBirth.value = "";
              		//fn_validation('mainSmsCertificationCheck','이미 등록된 회원입니다.', 'R');
              		$("#mainSmsCertificationCheck").css('display',"block");
              		$("#mainSmsCertification").css('display',"none");
              		
              		alert("이미 등록된 회원입니다.");
              		location.href = '/main';
              		
              	}else{
              		
              		$("#mainSmsCertificationCheck").css('display',"block");
              		$("#mainSmsCertification").css('display',"none");
              		fn_validation('mainSmsCertificationCheck','휴대폰 인증완료.', 'R');
              		$("#mbrNmCheck").css('display',"none");
              		fn_validation('mbrNmCheck','', 'B');
              		document.memberInput.mbrCpCertDi.value = mbrCpCertDi;
              		document.memberInput.mbrNm.value = mbrNm;
              		document.memberInput.mbrCpNum.value = mbrCpNum;
              		document.memberInput.mbrCpCertYn.value = "Y";
              		document.memberInput.mbrCpCertDate.value = mbrCpCertDate;
              		document.memberInput.mbrBirth.value = mbrBirth;
              		//숨겼던 성명, 생년월일이 나타나게 한다.
              		$("#mbrNmDiv").show();
              	}
              },
              error: function(error) {
              	var errorTxt = JSON.stringify(error);
                  alert("오류 발생" + errorTxt);
              }
      	});
      }
      
      mainMobileAuthSuccess();
      
      
 //휴대폰 인증 실패
 /*
 function mainMobileAuthFail() {
    modalAlertShow("휴대폰 인증에 실패 하였습니다.","");
 }
 */ 
 var mbrNcknmCheckYn = "N"; //활동명 중복체크 여부

  //활동명 특수문자 제한
  function characterCheck(obj){
  	var regExp = /[ \{\}\[\]\/?,;:|\)*~`!^\-+┼<>@\#$%&\'\"\\\(\=]/gi; 
  	
  	if(regExp.test(obj.value)){
  		fn_validation('mbrNcknmCheck','활동명에는 문자, 숫자, 밑줄 및 마침표만 사용할 수 있습니다.', 'R');
  		obj.value = obj.value.substring( 0 , obj.value.length - 1 ); // 입력한 특수문자 한자리 지움
  		document.getElementById("mbrNcknmBtn").disabled = true;
  	}else{
  		fn_validation('mbrNcknmCheck','활동명을 입력 후 중복체크를 해주세요.', 'B');
  		document.getElementById("mbrNcknmBtn").disabled = false;
  	}
  }

  //활동명 길이 제한
  function mbrNcknmLength(obj){
  	if(obj.value.length < 2){
  		fn_validation('mbrNcknmCheck','활동명은 2글자 이상이여야 합니다.', 'R');
  		document.getElementById("mbrNcknmBtn").disabled = true;
  		obj.focus();
  		mbrNcknmCheckYn = "N";
  	}else{
  		fn_validation('mbrNcknmCheck','활동명을 입력 후 중복체크를 해주세요.', 'B');
  		document.getElementById("mbrNcknmBtn").disabled = false;
  		mbrNcknmCheckYn = "N";
  	}
  }

  //활동명 중복체크
  function mbrNcknmCheck(obj){
  	$.ajax({
          type: "post",
          url: "/member/mbrNcknmCheck",
          data: {
          	mbrNcknm : document.getElementById("mbrNcknm").value
          },
          success: function(data) {
          	if (data.result > 0) {
          		obj.disabled = true;
          		obj.value = "";
          		$('#memberModal').css("overflow", "scroll");
          		modalAlertShow("활동명이 중복되었습니다. 다시 입력해주세요.", "mbrNcknm"); 
          		mbrNcknmCheckYn = "N";
          	}else{
          		mbrNcknmCheckYn = "Y";
          		$('#memberModal').css("overflow", "scroll");
          		//modalAlertShow("사용 가능한 활동명입니다.");   
          		alert("사용 가능한 활동명입니다.");
          		fn_validation('mbrNcknmCheck','', 'B');
          	}
          },
          error: function(error) {
              alert("오류 발생" + error);
          }
  	});
  }
  
  var mbrIdOverlapChk = false;
  
  //회원가입
  $("#memberInputBtn").on('click', function(event){
  	//회원아이디
  	var mbrId = $("#mbrId").val();
  	//비밀번호
  	var mbrPasswrd = $("#mbrPasswrd").val();
  	//비밀번호 확인
  	var mbrPasswrdConfirm = $("#mbrPasswrdConfirm").val();
  	//성명
  	var mbrNm = $("#mbrNm").val();
  	//생년월일
  	var mbrBirth = $("#mbrBirth").val();
  	//휴대번호
  	var mbrCpNum = $("#mbrCpNum").val();
  	//휴대폰 본인인증 여부
  	var mbrCpCertYn = $("#mbrCpCertYn").val();
  	//휴대폰 본인인증 날짜
  	var mbrCpCertDate = $("#mbrCpCertDate").val();
  	//휴대폰 본인인증 DI
  	var mbrCpCertDi = $("#mbrCpCertDi").val();
  	//소셜 회원 로그인 구분
  	var mbrSocialSort = "GEN";
  	//회원 활동명
  	var mbrNcknm = $("#mbrNcknm").val();
  	
  	if(!mbrIdOverlapChk){ //아이디 중복체크 여부
  		$("#mbrId").focus();
  		return;
  	}
  	if(isEmpty(mbrId)) {
  		fn_validation('mbrIdCheck','이메일을 입력해주세요.', 'R');
  		$("#mbrId").focus();
  		return;
  	} 
  	if(!CheckEmail(mbrId)) {
  		fn_validation('mbrIdCheck','이메일을 올바르게 입력해주세요.', 'R');
  		$("#mbrId").focus();
  		return;
  	}
  	//비밀번호--------------------------------------------------------------------//
  	if(isEmpty(mbrPasswrd)) {
  		$('#mbrPwdCheckU').css('color','red');
  		$('#mbrPwdCheckD').css('color','#999999');
  		$("#mbrPasswrd").focus();
  		
  		return;
  	} 
  	/*
  	if(!/^[a-zA-Z0-9!@#$%^&*()?_~]{8,20}$/.test(mbrPasswrd))
  	{
  		$('#mbrPwdCheckU').css('color','red');
  		$('#mbrPwdCheckD').css('color','#999999');
  		$("#mbrPasswrd").focus();
  		
  		return;
  	}
  	*/
  	/*
  	var chk = 0;
  	if(mbrPasswrd.search(/[0-9]/g) != -1 ) chk ++;
  	if(mbrPasswrd.search(/[a-z]/ig)  != -1 ) chk ++;
  	if(mbrPasswrd.search(/[!@#$%^&*()?_~]/g)  != -1  ) chk ++;
  	
  	if(chk < 3)
  	{
  		$('#mbrPwdCheckU').css('color','red');
  		$('#mbrPwdCheckD').css('color','#999999');
  		$("#mbrPasswrd").focus();
  		
  		return;
  	}
  	 */
  	 
  	if(!/^[a-zA-Z0-9!@#$%^&*()?_~]{8,20}$/.test(mbrPasswrd))
  	{
  		$('#mbrPwdCheckU').css('color','red');
  		$('#mbrPwdCheckD').css('color','#999999');
  		$("#mbrPasswrd").focus();
  		
  		return;
  	}
  	  	  	 
  	if(/(\w)\1\1/.test(mbrPasswrd)){
  		
  		$('#mbrPwdCheckU').css('color','#999999');
  		$('#mbrPwdCheckD').css('color','red');
  		$("#mbrPasswrd").focus();
  		
  		return;
  	}
  	
/*   	 
  	 var SamePass_0 = 0; //동일문자 카운트
  	 var SamePass_1 = 0; //연속성(+) 카운드
  	 var SamePass_2 = 0; //연속성(-) 카운드
  	 
  	 var chr_pass_0;
  	 var chr_pass_1;
  	 
  	 for(var i=0; i < mbrPasswrd.length; i++) {
  	  chr_pass_0 = mbrPasswrd.charAt(i);
  	  chr_pass_1 = mbrPasswrd.charAt(i+1);
  	 
  	  //동일문자 카운트
  	  if(chr_pass_0 == chr_pass_1) {
  	   SamePass_0 = SamePass_0 + 1
  	  } // if
  	 
  	 
  	  //연속성(+) 카운드
  	  if(chr_pass_0.charCodeAt(0) - chr_pass_1.charCodeAt(0) == 1) {
  	   SamePass_1 = SamePass_1 + 1
  	  } // if
  	 
  	  //연속성(-) 카운드
  	  if(chr_pass_0.charCodeAt(0) - chr_pass_1.charCodeAt(0) == -1) {
  	  	SamePass_2 = SamePass_2 + 1
  	  } // if
  	 } // for
  	 
  	 if(SamePass_0 > 1) {
  		 $('#mbrPwdCheckU').css('color','#999999');
  		 $('#mbrPwdCheckD').css('color','red');
  		 $("#mbrPasswrd").focus();
  		 
  		 return;
  	 } // if
  	 
  	 if(SamePass_1 > 1 || SamePass_2 > 1 )  {
  		 $('#mbrPwdCheckU').css('color','#999999');
  		 $('#mbrPwdCheckD').css('color','red');
  		 $("#mbrPasswrd").focus();
  		 
  		 return;
  	 } */
  	
  	 // 비밀번호 아이디 포함 여부
  	 if(mbrPasswrd.search(mbrId)>-1){
  		 $('#mbrPwdCheckU').css('color','#999999');
  		 $('#mbrPwdCheckD').css('color','red');
  		 $("#mbrPasswrd").focus();
  		 
  		  return;
  	 } else {
  		 $('#mbrPwdCheckU').css('color','#999999');
  		 $('#mbrPwdCheckD').css('color','#999999');	 
  	 }
  	 
  	 
  	//비밀번호.비밀번호확인 일치 체크 mbrPwdReCheck
  	if(mbrPasswrd != mbrPasswrdConfirm) {
  		fn_validation('mbrPwdReCheck','비밀번호가 일치 하지 않습니다.', 'R');
  		$("#mbrPasswrdConfirm").focus();
  		
  		return;
  	}
  	
  	fn_validation('mbrPwdReCheck','확인을 위해 새 비밀번호를 다시 입력해주세요.', 'B');
  	
  	//비밀번호--------------------------------------------------------------------//
  	
  	//이름
  	 if(isEmpty(mbrNm)) {
  		 fn_validation('mbrNmCheck','이름을 정확히 입력하세요', 'R');
  		 $("#mbrNm").val();
  		 
  		 return;
  	 }
  	 fn_validation('mbrNmCheck','', 'B');
  	
  	//휴대폰번호
  	 if(isEmpty(mbrCpNum)) {
  		 fn_validation('mbrCpNumCheck','휴대폰번호를 정확히 입력하세요.', 'R');
  		 $("#mbrCpNum").val();
  		 
  		 return;
  	 }
  	 
  	fn_validation('mbrCpNumCheck','', 'B');
  	
  	//휴대폰본인인증 여부
  	if(mbrCpCertYn == 'N') {
  		$("#mainSmsCertificationCheck").show();
  		fn_validation('mainSmsCertificationCheck','휴대폰 본인 인증을 해주세요.', 'R');
  		$("#mbrCpNum").val();
  		
  		return;
  	}
  	
  	//중복회원 여부
  	if($("#mainSmsCertificationCheck").text() == '이미 등록된 회원입니다.') {
  		$("#mbrCpNum").focus();
  		
  		return;
  	}
  	
  	//활동명 중복체크 여부
  	if(mbrNcknmCheckYn == "N"){
  		fn_validation('mbrNcknmCheck','활동명 중복체크를 해주세요.', 'R');		
  		$("#mbrNcknm").focus();
  		
  		return;
  	}
  	
  	var s1Check = $('input:checkbox[name=s1]').is(':checked');
	var s2Check = $('input:checkbox[name=s2]').is(':checked');
	var s3Check = $('input:checkbox[name=s3]').is(':checked');
	var s4Check = $('input:checkbox[name=s4]').is(':checked');
	var mbrEmlAlarm = "N";
	var mbrCpAlarm = "N";
	
	if(s1Check == false) {
		modalAlertShow("만 18세 이상인것은 확인해주세요.","");
		
		return;
	}
	
	if(s2Check == false) {
		modalAlertShow("이용약관을 읽고 확인해 주세요.","");
		
		return;
	}
	
	if(s3Check == false) {
		modalAlertShow("개인정보처리방침을 읽고 확인해 주세요.","");
		
		return;
	}
  	
  	var s4Check = $('input:checkbox[name=s4]').is(':checked');
   	
  	if(s4Check == true) {
  		mbrEmlAlarm = 'Y';
  		mbrCpAlarm = 'Y'
  		
  	}
  	
  	 let memParams = {
  		  "mbrId" : mbrId,
  		  "mbrPasswrd" : mbrPasswrd,
  		  "mbrNm" : mbrNm,
  		  "mbrBirth" : mbrBirth,
  		  "mbrCpNum" : mbrCpNum,
  		  "mbrCpCertYn" : mbrCpCertYn,
  		  "mbrCpCertDate" : mbrCpCertDate,
  		  "mbrCpCertDi" : mbrCpCertDi,
  		  "mbrSocialSort" : mbrSocialSort,
  		  "mbrNcknm" : mbrNcknm,
  		  "mbrEmlAlarm" : mbrEmlAlarm,
  		  "mbrCpAlarm" : mbrCpAlarm
  	}
  	
  	if (!confirm("입력하신 정보로 회원 가입을 진행 하시겠습니까?")) {
  		//메인화면으로 이동
  		location.href = "/main";
  		
      } else {
          // 확인(예) 버튼 클릭 시 이벤트
          
          $.ajax({
  		     type: "post",
  		     url: "/main/memberInsertData",
  		     data: memParams,
  		     success: function(data) {
  		    	 
  		    	 if (typeof data != "undefined" && data > 0){
  		    		 
  		    		 alert("회원가입이 완료 되었습니다.")
  		    		 
  		    		 //로그인 페이지로 이동	    		 
  		    		 location.href = "/main/mlogin";
  		    		 
  		    		 //modalAlertShow("회원가입이 완료 되었습니다.","memberInput");
  		    		 
  		    		 var mbrIdEncrypt = data;
  		    		 
  		    	 }else{
  		    		 modalAlertShow("회원가입 중 오류가 발생했습니다. 다시 시도해주세요.", "reload");
  		    	 }
  		    	 
  		   	 },
  		     error: function(error) {
  		  	   var errorJson = JSON.stringify(error);
  		        console.log(errorJson);
  		     }
  		});
          
      }
  	
  	
  });
  
  //아이디 중복 체크
  $("#mbrId").blur(function() {
		var dataCheckCount = {};
		
		var mbrIdParam = $("#mbrId").val();
		
		if(mbrIdParam) {
		
			let param = {
				mbrId : mbrIdParam
			}
			
			$.ajax({
				   type: "post",
				   url: "/member/memberIdChkData",
				   data: param,
				   success: function(data) {
					   
					dataCheckCount = data.memberCheck.memberIdCheck[0];
					
					console.log("dataCheckCount :"+dataCheckCount);
					
					if(dataCheckCount > 0) {
									
						var msg = "이미 가입된 이메일 주소입니다. 다른 이메일을 입력해 주세요.";
						
						fn_validation('mbrIdCheck',msg, 'R');
						fn_validation('mbrPwdCheck','', 'B');
						fn_validation('mbrPwdReCheck','확인을 위해 새 비밀번호를 다시 입력해주세요.', 'B');
						fn_validation('mbrNmCheck','', 'B');
						$('#mbrPwdCheckU').css('color','#999999');
						$('#mbrPwdCheckD').css('color','#999999');
						mbrIdOverlapChk = false;
						return;
					
					} else {
						
						if(!CheckEmail(mbrIdParam)) {
							$('#mbrIdCheck').html('이메일을 올바르게 입력해주세요.');
							$('#mbrIdCheck').css('color','red');
							mbrIdOverlapChk = false;
						} else {
							var msg = "주로 사용하는 이메일을 입력해 주세요. 경매/판매 내역을 발송해 드립니다.";
							fn_validation('mbrIdCheck',msg, 'B');	
							mbrIdOverlapChk = true;
						}
						
						return;
					}
				   },
				   error: function(error) {
					   var errorJson = JSON.stringify(error);
				       //alert("오류 발생" + errorJson);
				       console.log(errorJson);
				   }
				})
		} else {
			
			var msg = "주로 사용하는 이메일을 입력해 주세요. 경매/판매 내역을 발송해 드립니다.";
			
			fn_validation('mbrIdCheck',msg, 'B');
			mbrIdOverlapChk = false;
			return;
			
		}
	});
 </script>
    
<!-- 네이버 광고 로그분석 추적 코드 -->
<script type="text/javascript" src="//wcs.naver.net/wcslog.js"></script> 
<script type="text/javascript">
if(!wcs_add) var wcs_add = {}; 
wcs_add["wa"] = "s_17cc71bb9b8f";
if (!_nasa) var _nasa={}; 
if (window.wcs) {
wcs.inflow("www.dealing-art.com"); 
wcs_do(_nasa);
}
</script>	
	
	
	
</body>

</html>
