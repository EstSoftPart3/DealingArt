<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">

<th:block th:fragment="headerFragment">

<head>
<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="initial-scale=1,user-scalable=no,maximum-scale=1,width=device-width">
	<meta name="mobile-web-app-capable" content="yes">
	<meta name="apple-mobile-web-app-capable" content="yes">
	<meta name="theme-color" content="#000000">
	<meta name="description" content="">
	<meta name="author" content="">
	<title>딜링아트</title>
<!-- 	<link rel="icon" href="http://localhost/resources/static/favicon.ico" /> -->
 	<link rel="icon" href="favicon.ico">
	<link type="text/css" rel="stylesheet" href="resources/css/bootstrap-select.min.css">
	<link type="text/css" rel="stylesheet" href="resources/css/font.css" />
	<link type="text/css" rel="stylesheet" href="resources/css/swiper-bundle.min.css" />
	<link type="text/css" rel="stylesheet" href="resources/css/bootstrap.min.css">
	<link type="text/css" rel="stylesheet" href="resources/css/common_pc.css">
	<link type="text/css" media="screen and (max-width: 750px)" rel="stylesheet" href="resources/css/ui_mo.css" />
	<link type="text/css" media="screen and (min-width: 751px) and (max-width: 1536px)" rel="stylesheet" href="resources/css/ui_tablet.css" />
	<link type="text/css" media="screen and (min-width: 1537px)" rel="stylesheet" href="resources/css/ui_pc.css" />
	<link type="text/css" rel="stylesheet" href="resources/css/jquery-ui.css">
	
	<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@100;300;400;500;700;900&display=swap" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css?family=Roboto Condensed" rel="stylesheet">
	
	<!-- <script src="https://code.jquery.com/jquery-latest.min.js"></script> -->
	<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
	<script type="text/javascript" src="resources/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="https://unpkg.com/swiper/swiper-bundle.min.js"></script>
    <script type="text/javascript" src="resources/js/common.js"></script>
    
    <script type="text/javascript" src="resources/js/masonry.pkgd.min.js"></script>
    <script type="text/javascript" src="resources/js/imagesloaded.pkgd.min.js"></script>
<!--     <script src="https://unpkg.com/imagesloaded@4/imagesloaded.pkgd.min.js"></script> 추가 -->
    
    <script type="text/javascript" src="resources/js/jquery-ui.min.js"></script>
    <script type="text/javascript" src="resources/js/bootstrap-select.min.js"></script>
    <script type="text/javascript" src="resources/js/defaults-ko_KR.min.js"></script>
    
	<!-- jQuery.timepicker -->
<!--     <script src="https://cdn.jsdelivr.net/timepicker.js/latest/timepicker.min.js"></script> -->
<!-- 	<link href="https://cdn.jsdelivr.net/timepicker.js/latest/timepicker.min.css" rel="stylesheet"/> -->
	
	<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/timepicker/1.3.5/jquery.timepicker.min.css">
	<script src="//cdnjs.cloudflare.com/ajax/libs/timepicker/1.3.5/jquery.timepicker.min.js"></script>
    
	<!-- CK에디터 -->
	<script src="https://cdn.ckeditor.com/ckeditor5/29.1.0/classic/ckeditor.js"></script>
	<link rel="stylesheet" href="resources/css/content-styles.css" type="text/css">
    
    <style type="text/css">
		.modal-open {
		  overflow:hidden;
		  overflow-y:scroll;
		  padding-right:0 !important;
		}
   </style>
   
   <script>
		var isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent) ? true : false;
		jQuery(document).ready(function($){
		     if(!isMobile) {
		         $("#appDevice").val("PC");
		     } else {
		     	 $("#appDevice").val("MOBILE"); 
		     }
		});
  </script>
    
</head>
<body>
	<div class="head-wrap">
	<!-- Session GET -->
	<div th:text="${session.sMbrSqVal}" style="display:none"></div>
	<div th:text="${session.sAuthSqVal}" style="display:none"></div>
	<input type="hidden" id="sMbrSqVal">
	<!-- 접속 Divice 체크 -->
	<input type="hidden" id="appDevice">
		
		<div class="head">
			<div class="h-logo"><a href="/main"><img src="resources/img/logo.png" /></a></div>
			<div class="h-gnb">
				<div class="navbox">
					<nav>
						<li><a href="/deal">Deal</a></li>
						<li><a href="/insights"><img src="resources/img/link-text.png" class="link-text" /></a></li>
						<li><a href="/artist">Artist Library</a></li>
						<li><a href="/serviceIntro">About</a></li>
					</nav>
				</div>
				
				<!-- 로그인전 -->
				<div class="login-hide h-text" id="loginBf" style="display:none;">
					<span style="cursor:pointer;" data-toggle="modal" data-target="#loginModal">LOGIN</span>
					<span style="cursor:pointer;" data-toggle="modal" data-target="#memberModal">JOIN</span>
<!-- 					<span style="cursor:pointer;" onclick="javascript:fnModalAlert();">JOIN</span> -->
				</div>
				
				<!-- 로그인후 -->
				<div class="login-show h-img" id="loginAf" style="display:none;">
					<span class="sog-1 scrap"><a href="javascript:void(0);"><img src="resources/img/icon-1.png" /></a></span>
					<span class="sog-2 lg-my"><a href="javascript:void(0);"><img src="resources/img/icon-2.png" /></a></span>
					<div class="s-hov">
						<ul>
							<li><a href="/memberEdit"><img src="resources/img/ic-1.jpg" /><span>회원정보 수정</span></a></li>
							<li><a href="/myDeal"><img src="resources/img/ic-2.jpg" /><span>거래 내역</span></a></li>
							<!-- class="myCollection" -->
							<li><a href="javascript:void(0);" class="myWork"><img src="resources/img/ic-3.jpg" /><span>나의 작품</span></a></li>
							<li><a href="javascript:void(0);" class="myCollection"><img src="resources/img/ic-3.jpg" /><span>나의 소장품</span></a></li>
							<!-- class="scrap" -->
							<li><a href="javascript:void(0);" class="scrap"><img src="resources/img/ic-4.jpg" /><span>스크랩</span></a></li>
							<!-- /customerService -->
							<li><a href="javascript:fnModalAlert();"><img src="resources/img/ic-5.jpg" /><span>고객센터</span></a></li>
						</ul>
						<button type="button" class="btn-1" onclick="logout()">로그아웃</button>
					</div>
				</div>
				
				
				<!-- 검색 -->
				<a href="" class="icon-search" data-toggle="modal" data-target="#myModal"><img src="resources/img/icon-3.png"></a>
				
				
			</div>
		</div>
		<div class="bab-bo">
			<div class="ta-sho">
				<a href="#"><span>Guide</span></a>
			</div>
			<div class="mab-rb">
				<a href="javascript:fnModalAlert();" class="mab-a"><span>Guide</span></a>
				<ul class="mab-ul">
					<!-- <li><a href="javascript:fnModalAlert();"><img src="resources/img/icon-4.png" /> <span>거래방법</span></a></li> -->
					<li><a href="#" data-toggle="modal" data-target="#authorModal1"><img src="resources/img/icon-5.png" /> <span>작가등록</span></a></li>
					<li><a href="javascript:void(0);" class="workReg"><img src="resources/img/icon-6.png" /> <span>작품등록</span></a></li>
				</ul>
			</div>
		</div>
	</div>
		
<!-- 모달검색 -->
<!-- Modal -->
<div class="modal fade modal-s" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog modal-sech">
		<div class="modal-content">
			<div class="modal-header">
				<div class="conts">
				    <div class="close" data-dismiss="modal" aria-label="Close"></div>
				</div>

			</div>
			<div class="modal-body">				
				<!-- 검색버튼 클릭시 -->
				<div class="search-show">
					<div class="sea-box">
						<img src="resources/img/w-logo.jpg" class="sea-img" />
						
						<div class="sea-won">
							<!-- <div class="select-box">
								<select>
									<option>작가명</option>
								</select>
							</div> -->
							<input type="text" id="ibx_search" onkeydown="javascript: if (event.keyCode == 13) {btn_search_onclick();}" onkeyup="ibx_search_onkeyup(this);" style="outline: none;"/>
							<a href="javascript:void(0);" onclick="btn_search_onclick();"><img src="resources/img/icon-2.jpg" /></a>
						</div>
						<div id="autocomplete">
							<div class="ta-h3">
								<h3 class="sea-h3">작품</h3>
								<a href="javascript:void(0);" class="workMore"><span>more</span></a>
							</div>
							<ul class="sea-text" id="work">
								<!-- <li><a href="#">text</a></li>
								<li><a href="#">text</a></li>
								<li><a href="#">text</a></li>
								<li><a href="#">text</a></li> -->
							</ul>
							<div class="ta-h3">
								<h3 class="sea-h3">작가</h3>
								<a href="javascript:void(0);" class="artistMore"><span>more</span></a>
							</div>
							<ul class="sea-text" id="artst">
								<!-- <li><a href="#">text</a></li>
								<li><a href="#">text</a></li>
								<li><a href="#">text</a></li>
								<li><a href="#">text</a></li> -->
							</ul>
							<!--
							<div class="ta-h3">
								<h3 class="sea-h3">컨텐츠</h3>
								<a href="javascript:void(0);" class="contentMore"><span>more</span></a>
							</div>
							<ul class="sea-text">
								<li><a href="#">컨텐츠 제목입니다.</a></li>
								<li><a href="#">컨텐츠 제목입니다.</a></li>
								<li><a href="#">컨텐츠 제목입니다.</a></li>
								<li><a href="#">컨텐츠 제목입니다.</a></li>
							</ul>
							-->
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>

<!-- Modal -->
<!-- login -->
<div class="modal fade modal-s" id="loginModal" tabindex="-1" role="dialog" aria-labelledby="loginModalLabel" aria-hidden="true">
	<div class="modal-dialog modal-baeg max-w480">
		<div class="modal-content">
			<div class="modal-header" style="padding: 0;min-height: 0;height: 0;">
				<div class="baegs">
				    <div class="close" data-dismiss="modal" aria-label="Close"><img src="resources/img/ba/icon-end.png" /></div>
				</div>
			</div>
			<div class="modal-body login-body">
				<img src="resources/img/icon/login-logo.png"  class="login-logo"/>
				<div class="login-box">
					<p class="lb-p1">LOGIN</p>
					<div class="input-box">
						<input type="text" class="input-3" placeholder="아이디/이메일" id="txt_Id" value=""/>
					</div>
					<div class="input-box">
						<input type="password" class="input-3" placeholder="비밀번호" onkeydown="javascript: if (event.keyCode == 13) {login();}"id="txt_Pw" value=""/>
					</div>
					<div class="radio-3 rad-mg">
						<input type="checkbox" id="a1" name="autoLoginYn" value="Y"/>
						<label for="a1"><span></span>자동로그인</label>
						<span class="c-reds">※ 자동로그인은 7일만 유지됩니다.</span>
					</div>
					<div class="bat-box3">
						<button type="button" class="ba-btn1" onclick="login()"><span>Login</span></button>
					</div>
					<div class="login-chs">
						<div class="login-tt">
							<a href="#" onclick="openFindIdModal()" data-toggle="modal">아이디 찾기</a>
							<p class="lb-p2"><a href="#" onclick="openFindPwdModal()" data-toggle="modal">비빌먼호 찾기</a></p>
							<!-- <p class="lb-p2"><a href="#" data-toggle="modal" data-target="#memberModal"><span>회원가입</span></a></p> -->
<!-- 							<p class="lb-p2"><a href="javascript:fnModalAlert();"><span>회원가입</span></a> -->
							<a style="cursor:pointer;" class="lb-p2" data-toggle="modal" data-target="#memberModal">회원가입</a>
						</div>
						
					</div>
					<div class="login-lk">
						<p>소셜아이디로 간편하게 로그인할 수 있습니다.</p>
						<div class="ll-img">
							<a href="javascript:naverUserLogin();"><img src="resources/img/icon-naver.png"/></a>
							<a href="javascript:kakaoUserLogin();"><img src="resources/img/icon-kaka.png" /></a>
							<a href="javascript:googleUserLogin();"><img src="resources/img/icon-google.png" /></a>
						</div>
					</div>
					
				</div>
			</div>
		</div>
	</div>
</div>

<!-- 아이디찾기 -->
<div class="modal fade modal-s" id="idModal" tabindex="-1" role="dialog" aria-labelledby="idModalLabel" aria-hidden="true">
	<form id="findId" name="findId" method="post">
	<div class="modal-dialog modal-baeg max-w480">
		<div class="modal-content">
			<div class="modal-header">
				<div class="baegs">
					<h2>아이디찾기</h2>
				    <img src="resources/img/ba/icon-3.png" class="con-img" />
				    <div class="close" data-dismiss="modal" aria-label="Close"><img src="resources/img/ba/icon-end.png" /></div>
				</div>
			</div>
			<div class="modal-body login-body">
				<div class="id-box">
					<!-- <div class="input-box">
						<input type="text" class="input-3" placeholder="이름" />
					</div>
					<div class="input-box input-group">
						<div class="input-drox">
							<input type="text" class="input-3" placeholder="010-0000-0000" />
						</div>
						<button type="button" class="group-btn" id="findIdCpNum">인증번호 받기</button>
					</div>
					<div class="input-box input-group">
						<div class="input-drox">
							<input type="text" class="input-3" placeholder="인증번호를 입력하세요" />
							<span class="id-time">60초</span>
						</div>
						<button type="button" class="group-btn">재전송</button>
					</div> -->
					<div class="bat-box3 mg_t30">
						<button type="button" class="ba-btn2" id="findIdCpNum"><span>본인명의 휴대전화로 인증</span></button>
					</div>
					<div class="input-box">
						<input type="checkbox" id="findIdmbrId" name="findIdmbrId" style="display:none;"/>
						<label for="findIdmbrId"  style="display:none;font-size:large;font-weight:bold;"></label>
						<p class="table-p" id="mbrRegDt" style="display:none;font-size:medium;"></p>
					</div>
					
					<div class="bat-box3 mg_t30">
						<button type="button" class="ba-btn1" id="findIdLoginBtn" style="display:none;"><span>로그인</span></button>
						<button type="button" class="ba-btn2" id="findIdFindPwdBtn" style="display:none;"><span>비밀번호 찾기</span></button>
					</div>
					<input type="hidden" name="m" value="checkplusSerivce">	<!-- 필수 데이타로, 누락하시면 안됩니다. -->
					<input type="hidden" name="EncodeData">					<!-- 위에서 업체정보를 암호화 한 데이타입니다. -->
				</div>
			</div>
		</div>
	</div>
	</form>
</div>
<script th:inline="javascript">
function openFindIdModal(){
	$("#loginModal").modal("hide");
	$("#idModal").modal("show");
}
$('#findIdCpNum').click(function() {
	$.ajax({
		method: "POST",
		url: "/findId/auth/phone"
	}).done(function(data) {
		document.findId.EncodeData.value = data;
		window.open('', 'popupChk', 'width=500, height=550, top=100, fullscreen=no, menubar=no, status=no, toolbar=no, titlebar=yes, location=no, scrollbar=no');
		document.findId.action = "https://nice.checkplus.co.kr/CheckPlusSafeModel/checkplus.cb";
		document.findId.target = "popupChk";
		document.findId.submit();
	});
});
function findIdReturnValue(returnValue){
	$.ajax({
        type: "post",
        url: "/findId",
        data : {mbrCpCertDi : returnValue}, 
        success: function(data) {
        	var result = null;
        	if (data.result != null) {
        		result = data.result;
        		$("label[for='findIdmbrId']").append("<span></span>"+result.mbrId).trigger("create");
        		$("label[for='findIdmbrId']").css("display", "");
        		$("#findIdmbrId").val(result.mbrId);
        		$("#findIdmbrId").css("display", "");
        		$("#mbrRegDt").text("가입일자 : " + result.mbrRegDt);
        		$("#mbrRegDt").css("display", "");
        		$("#findIdLoginBtn").css("display", "");
        		$("#findIdFindPwdBtn").css("display", "");
        	}else{
        		modalAlertShow("등록된 회원 정보가 없습니다.","");
        	}
        },
        error: function(error) {
            alert("오류 발생" + error);
        }
	})
}
$("#findIdLoginBtn").click(function() {
	$("#txt_Id").val($("#findIdmbrId").val());
	$("#idModal").modal("hide");
	$("#loginModal").modal("show");
});
$("#findIdFindPwdBtn").click(function() {

});
</script>

<!-- 비밀번호찾기 -->
<div class="modal fade modal-s" id="passModal" tabindex="-1" role="dialog" aria-labelledby="passModalLabel" aria-hidden="true">
	<form id="findPwd" name="findPwd" method="post">
	<div class="modal-dialog modal-baeg max-w480">
		<div class="modal-content">
			<div class="modal-header">
				<div class="baegs">
					<h2>비밀번호찾기</h2>
				    <img src="resources/img/ba/icon-3.png" class="con-img" />
				    <div class="close" data-dismiss="modal" aria-label="Close" onclick="findPwrModalClose()"><img src="resources/img/ba/icon-end.png" /></div>
				</div>
			</div>
			<div class="modal-body login-body">
				<div class="id-box">
					<div class="input-box">
						<p class="inp-p" style="text-align:left;" id="findPwdMbrIdCheck">비밀번호를 찾고자하는 아이디를 입력해주세요.</p>
						<input type="text" class="input-3" placeholder="아이디(email)" id="findPwdMbrId"/>
					</div>
					<div class="input-box" style="display:none;" id="findPwdMbrPwdForm1">
						<input type="password" class="input-3" id="findPwdMbrPwd1" placeholder="새 비빌먼호" />
						<p class="inp-p" id="findPwdMbrPwdCheck1" style="text-align:left;">영문/숫자/특수문자 2가지 이상 조합 (8~20자)</p>
						<p class="inp-p" id="findPwdMbrPwdCheck2" style="text-align:left;">3개 이상 연속되거나 동일한 문자/숫자 제외, 아이디(이메일) 제외</p>
					</div>
					<div class="input-box" style="display:none;" id="findPwdMbrPwdForm2">
						<input type="password" class="input-3" id="findPwdMbrPwd2" placeholder="새 비빌먼호 확인" />
						<p class="inp-p" id="findPwdMbrPwdCheck3" style="text-align:left;">확인을 위해 새 비밀번호를 다시 입력해주세요.</p>
					</div>
					<!-- <div class="input-box input-group">
						<div class="input-drox">
							<input type="text" class="input-3" placeholder="인증번호를 입력하세요" />
							<span class="id-time">60초</span>
						</div>
						<button type="button" class="group-btn">재전송</button>
					</div> -->
					<div class="bat-box3 mg_t30">
						<button type="button" class="ba-btn1" id="findPwdMbrIdBtn"><span>확인</span></button>
						<button type="button" class="ba-btn2" id="findPwdCpNum" style="display:none;"><span>본인명의 휴대전화로 인증</span></button>
						<button type="button" class="ba-btn1" id="findPwdSubmit" onclick="changePasswrd()"style="display:none;"><span>확인</span></button>
					</div>
					<input type="hidden" name="m" value="checkplusSerivce">	<!-- 필수 데이타로, 누락하시면 안됩니다. -->
					<input type="hidden" name="EncodeData">					<!-- 위에서 업체정보를 암호화 한 데이타입니다. -->
				</div>
			</div>
		</div>
	</div>
	</form>
</div>
<script th:inline="javascript">
function openFindPwdModal(){
	$('#loginModal').modal('hide');
	$('#passModal').modal('show');
}
$('#findPwdCpNum').click(function() {
	$.ajax({
		method: "POST",
		url: "/findPwd/auth/phone"
	}).done(function(data) {
		document.findPwd.EncodeData.value = data;
		window.open('', 'popupChk', 'width=500, height=550, top=100, fullscreen=no, menubar=no, status=no, toolbar=no, titlebar=yes, location=no, scrollbar=no');
		document.findPwd.action = "https://nice.checkplus.co.kr/CheckPlusSafeModel/checkplus.cb";
		document.findPwd.target = "popupChk";
		document.findPwd.submit();
	});
});
function findPwrModalClose(){
	$("#findPwd")[0].reset();
	$("#findPwdMbrIdCheck").text("비밀번호를 찾고자하는 아이디를 입력해주세요.");
	$("#findPwdMbrIdCheck").css("color","#999999");
	$("#findPwdCpNum").css("display","none");
	$("#findPwdMbrIdBtn").css("display","");
	$("#findPwdMbrId").attr("readonly", false);
}
//아이디 중복 체크
$("#findPwdMbrIdBtn").click(function() {
	var dataCheckCount = {};
	var mbrIdParam = $("#findPwdMbrId").val();
	if(!CheckEmail(mbrIdParam)) {
		$("#findPwdMbrIdCheck").text("아이디(email)를 올바르게 입력해주세요.");
		$("#findPwdMbrIdCheck").css("color","red");
	}else{
		$.ajax({
			type: "post",
			url: "/myPage/memberIdChkData",
			data:{
				mbrId : mbrIdParam
			},
			success: function(data) {
				dataCheckCount = data.memberCheck.memberIdCheck[0];
				if(dataCheckCount > 0) {
					$("#findPwdMbrIdCheck").text("");
					$("#findPwdMbrIdCheck").css("color","#999999");
					$("#findPwdCpNum").css("display","");
					$("#findPwdMbrIdBtn").css("display","none");
					$("#findPwdMbrId").attr("readonly", true);
				}else{
					$("#findPwdMbrIdCheck").text("존재하지 않는 아이디(email) 입니다.");
					$("#findPwdMbrIdCheck").css("color","red");
					return false;
				}
			},
			error: function(error) {
			    alert("오류 발생" + errorJson);
			}
		});
	}
});
function findPwdReturnValue(returnValue){
   	if (returnValue != null) {
   		$("#findPwdMbrPwdForm1").css("display", "");
   		$("#findPwdMbrPwdForm2").css("display", "");
   		$("#findPwdSubmit").css("display", "");
   		$("#findPwdCpNum").css("display", "none");
   	}else{
   		modalAlertShow("등록된 회원 정보가 없습니다.","");
   	}
}
function changePasswrd(){
	//비밀번호--------------------------------------------------------------------//
	var mbrPasswrd = $("#findPwdMbrPwd1").val();
	var mbrPasswrdConfirm = $("#findPwdMbrPwd2").val();
	var mbrId = $("#findPwdMbrId").val();
	if(isEmpty(mbrPasswrd)) {
		$('#findPwdMbrPwdCheck1').css('color','red');
		$('#findPwdMbrPwdCheck2').css('color','#999999');
		return;
	} 
	if(!/^[a-zA-Z0-9!@#$%^&*()?_~]{8,20}$/.test(mbrPasswrd))
	{
		$('#findPwdMbrPwdCheck1').css('color','red');
		$('#findPwdMbrPwdCheck2').css('color','#999999');
		return;
	}
	var chk = 0;
	if(mbrPasswrd.search(/[0-9]/g) != -1 ) chk ++;
	if(mbrPasswrd.search(/[a-z]/ig)  != -1 ) chk ++;
	if(mbrPasswrd.search(/[!@#$%^&*()?_~]/g)  != -1  ) chk ++;
	if(chk < 2)
	{
		$('#findPwdMbrPwdCheck1').css('color','red');
		$('#findPwdMbrPwdCheck2').css('color','#999999');
		return;
	}
	 
	 var SamePass_0 = 0; //동일문자 카운트
	 var SamePass_1 = 0; //연속성(+) 카운드
	 var SamePass_2 = 0; //연속성(-) 카운드
	 
	 var chr_pass_0;
	 var chr_pass_1;
	 
	 for(var i=0; i < mbrPasswrd.length; i++) {
	  chr_pass_0 = mbrPasswrd.charAt(i);
	  chr_pass_1 = mbrPasswrd.charAt(i+1);
	 
	  //동일문자 카운트
	  if(chr_pass_0 == chr_pass_1) {
	   SamePass_0 = SamePass_0 + 1
	  } // if
	 
	 
	  //연속성(+) 카운드
	  if(chr_pass_0.charCodeAt(0) - chr_pass_1.charCodeAt(0) == 1) {
	   SamePass_1 = SamePass_1 + 1
	  } // if
	 
	  //연속성(-) 카운드
	  if(chr_pass_0.charCodeAt(0) - chr_pass_1.charCodeAt(0) == -1) {
	  	SamePass_2 = SamePass_2 + 1
	  } // if
	 } // for
	 
	 if(SamePass_0 > 1) {
		 $('#findPwdMbrPwdCheck1').css('color','#999999');
		 $('#findPwdMbrPwdCheck2').css('color','red');
		 return;
	 } // if
	 
	 if(SamePass_1 > 1 || SamePass_2 > 1 )  {
		 $('#findPwdMbrPwdCheck1').css('color','#999999');
		 $('#findPwdMbrPwdCheck2').css('color','red');
		 return;
	 }
	 // 비밀번호 아이디 포함 여부
	 if(mbrPasswrd.search(mbrId)>-1)
	 {
		 $('#mbrPwdCheckU').css('color','#999999');
		 $('#mbrPwdCheckD').css('color','red');
		  return;
	 }
	
	 $('#findPwdMbrPwdCheck1').css('color','#999999');
	 $('#findPwdMbrPwdCheck2').css('color','#999999');
	 
	 
	//비밀번호.비밀번호확인 일치 체크 mbrPwdReCheck
	if(mbrPasswrd != mbrPasswrdConfirm) {
		fn_validation('findPwdMbrPwdCheck3','비밀번호가 일치 하지 않습니다.', 'R');
		return;
	}
	
	fn_validation('findPwdMbrPwdCheck3','확인을 위해 새 비밀번호를 다시 입력해주세요.', 'B');
	
	//비밀번호--------------------------------------------------------------------//
	$.ajax({
        type: "post",
        url: "/changePasswrd",
        data : {
        	mbrPasswrd : mbrPasswrd,
        	mbrId : mbrId
		}, 
        success: function(data) {
        	if (data > 0) {
        		result = data.result;
        		modalAlertShow("비밀번호가 변경되었습니다.", "reload");
        	}else{
        		if(data == -1){
        			$("#findPwdMbrPwd1").val("");
        			$("#findPwdMbrPwd2").val("");
        			modalAlertShow("이미 등록된 비밀번호 입니다. 다시 입력해주세요.", "findPwdMbrPwd1");
        		}else{
        			modalAlertShow("비밀번호 변경에 실패했습니다.", "reload");
        		}
        	}
        },
        error: function(error) {
            alert("오류 발생" + error);
        }
	})
}
</script>

<script type="text/javascript" src="https://static.nid.naver.com/js/naveridlogin_js_sdk_2.0.0.js" charset="utf-8"></script>

<script>

	function naverUserLogin() {
		var naverUrl = "https://nid.naver.com/oauth2.0/authorize?response_type=code&client_id=bfkY1xo1RrQOxpKeXWD2&state=state&redirect_uri=http://localhost:8088/auth/naver/callback";
	 	window.open(naverUrl,"_blank","height=400,width=377,top=100,left=200,scrollbars=yes,resizable=yes");
	}
	
	function kakaoUserLogin() {
		var kakaoUrl = "https://kauth.kakao.com/oauth/authorize?client_id=69c902a158be248a93aca88ba9ff0929&redirect_uri=http://localhost:8088/auth/kakao/callback&response_type=code";
	 	window.open(kakaoUrl,"_blank","height=400,width=377,top=100,left=200,scrollbars=yes,resizable=yes");
	}
	
	function googleUserLogin() {
		//var googleUrl = "https://accounts.google.com/o/oauth2/v2/auth?scope=https://www.googleapis.com/auth/drive.metadata.readonly&access_type=offline&include_granted_scopes=true&response_type=code&state=state_parameter_passthrough_value&redirect_uri=http://localhost:8088/auth/google/callback&client_id=449213206661-c9iopfi3an6fglsajlq2npnp1c12f14s.apps.googleusercontent.com";
		var googleUrl = "https://accounts.google.com/o/oauth2/v2/auth?scope=https://www.googleapis.com/auth/userinfo.email&access_type=offline&include_granted_scopes=true&response_type=code&state=state_parameter_passthrough_value&redirect_uri=http://localhost:8088/auth/google/callback&client_id=449213206661-c9iopfi3an6fglsajlq2npnp1c12f14s.apps.googleusercontent.com";
	 	window.open(googleUrl,"_blank","height=600,width=577,top=100,left=200,scrollbars=yes,resizable=yes");
	}
</script>

<!-- 회원가입 -->
<div class="modal fade modal-s" id="memberModal" tabindex="-1" role="dialog" aria-labelledby="memberModalLabel" aria-hidden="true">
	<form id="memberInput" name="memberInput" method="post">
	<div class="modal-dialog modal-baeg max-w800 momber-modal">
		<div class="modal-content">
			<div class="modal-header" style="padding: 0;min-height: 0;height: 0;">
				<div class="baegs">
				    <div class="close" data-dismiss="modal" aria-label="Close"><img src="/resources/img/ba/icon-end.png" /></div>
				</div>
			</div>
			<div class="modal-body member-body">
				<img src="resources/img/icon/login-logo.png"  class="member-logo"/>
				<div class="member-box">
					<img src="resources/img/icon/icon-bg.png" class="member-icon" />
					<h3 class="me-h3">회원가입</h3>
					<h4 class="me-h4">Dealing art  가입을 환영합니다. <span>회원 정보를 입력해 주세요.</span></h4>
					
						<div class="input-box">
							<input type="text" class="input-3 form-control" placeholder="아이디/이메일" id="mbrId" name="mbrId" autocomplete="off" required/>
							<p class="inp-p" id="mbrIdCheck">주로 사용하는 이메일을 입력해 주세요. 경매/판매 내역을 발송해 드립니다.</p>
						</div>
						<div class="input-box">
							<input type="password" class="input-3" placeholder="비밀번호" id="mbrPasswrd" name="mbrPasswrd" required/>
							<p class="inp-p" id="mbrPwdCheckU">영문/숫자/특수문자 2가지 이상 조합 (8~20자)</p>
							<p class="inp-p" id="mbrPwdCheckD">3개 이상 연속되거나 동일한 문자/숫자 제외, 아이디(이메일) 제외</p>
						</div>
						<div class="input-box">
							<input type="password" class="input-3" placeholder="비밀번호 확인" id="mbrPasswrdConfirm" name="mbrPasswrdConfirm" required/>
							<p class="inp-p" id="mbrPwdReCheck">확인을 위해 새 비밀번호를 다시 입력해주세요.</p>
						</div>					
						<div class="input-box input-group">
							<input type="text" class="input-3" placeholder="이름" id="mbrNm" name="mbrNm" autocomplete="off" readonly/>
							<input type="text" class="input-3" placeholder="생년월일" id="mbrBirth" name="mbrBirth" autocomplete="off" readonly style="margin-right: 0px;"/>
						</div>
						<p class="inp-p" id="mbrNmCheck"></p>
						<div class="input-box input-group">
							<input type="text" class="input-3" placeholder="휴대폰 번호" id="mbrCpNum" name="mbrCpNum" autocomplete="off" readonly/>
							<button type="button" class="group-btn" id="mbrCpNumBtn">인증하기</button>
							<input type="hidden" id="mbrCpCertYn" name="mbrCpCertYn" value="N">
							<input type="hidden" id="mbrCpCertDate" name="mbrCpCertDate" value="">
							<input type="hidden" id="mbrCpCertDi" name="mbrCpCertDi" value="">
						</div>
						<div class="input-box">
							<p class="inp-p" id="mainSmsCertificationCheck" style="display:none;color:red">휴대폰 인증완료</p>
						</div>
						
						<input type="hidden" name="m" value="checkplusSerivce">	<!-- 필수 데이타로, 누락하시면 안됩니다. -->
						<input type="hidden" name="EncodeData">					<!-- 위에서 업체정보를 암호화 한 데이타입니다. -->
					
					
					
					<div class="me-text">
						딜링아트 이용 약관에 동의해 주세요. <br/>
						경매 / 판매 알림 수신을 원하실 경우 모두 동의해 주세요.  <span class="text-line">모두 동의</span>						
					</div>
					<div class="radio-3 rad-mg">
						<input type="checkbox" id="s1" name="rr">
						<label for="s1"><span></span>(필수) 만 18세 이상입니다.</label><br/>
						<input type="checkbox" id="s2" name="rr">
						<label for="s2"><span></span>(필수) 이용 약관</label><br/>
						<input type="checkbox" id="s3" name="rr">
						<label for="s3"><span></span>(필수) 개인정보 수집 및 이용 동의</label><br/>
						<input type="checkbox" id="s4" name="rr">
						<label for="s4"><span></span>(선택) 이벤트, 프로모션 알림 메일 및 SMS 수신</label>
					</div>
					<div class="bat-box3">
						<button type="button" class="ba-btn1" id="memberInputBtn"><span>회원 가입하기</span></button>
					</div>
					<div class="login-lk">
						<p>소셜아이디로 간편하게 로그인할 수 있습니다.</p> 
						<div class="ll-img">
							<a href="javascript:fnModalAlert();"><img src="resources/img/icon-naver.png" /></a>
							<a href="javascript:fnModalAlert();"><img src="resources/img/icon-kaka.png" /></a>
							<a href="javascript:fnModalAlert();"><img src="resources/img/icon-google.png" /></a>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	
	</form>
</div>

<!-- 작가등록 -->
<div class="modal fade modal-s" id="authorModal1" tabindex="-1" role="dialog" aria-labelledby="authorModal1Label" aria-hidden="true">
	<div class="modal-dialog modal-baeg max-w500">
		<div class="modal-content">
			<div class="modal-header" style="padding: 0;min-height: 0;height: 0;">
				<div class="baegs">
				    <div class="close" data-dismiss="modal" aria-label="Close"><img src="resources/img/ba/icon-end.png"></div>
				</div>
			</div>
			<div class="modal-body">
				<div class="md-box-1">
					<div class="md-ds2">
						작가이신가요?<br/>딜링아트에 작가 정보를 등록해 주세요!
					</div>
					
					<div class="auth-div">
						<table width="100%" class="tstyle2">
							<tr class="t-red">
								<th>
									<div class="tsc-2"><img src="resources/img/de/check-on.jpg"><span>손쉽게 포트폴리오를 관리하고 빠르게 공유 할 수 있습니다.</span></div>
								</th>
							</tr>
							<tr class="t-red">
								<th>
									<div class="tsc-2"><img src="resources/img/de/check-on.jpg"><span>딜링아트의 다양한 프로모션 혜택을 제공해 드립니다.</span></div>
								</th>
							</tr>
							<tr class="t-red">
								<th>
									<div class="tsc-2"><img src="resources/img/de/check-on.jpg"><span>작품을 직접 판매 할 수 있습니다.</span></div>
								</th>
							</tr>
						</table>
					</div>
					
					<div class="baeg-btn mg_t30">
						<a href="/information"><button type="button" class="baeg-b1">등록하러 가기</button></a>
						<a href="#" data-dismiss="modal" aria-label="Close"><button type="button" class="baeg-b2">취소</button></a>
					</div>
					
				</div>
			</div>
		</div>
	</div>
</div>

<!-- ModalConfirm-->
<div class="modal fade modal-s" id="ModalConfirm" tabindex="-1" role="dialog" aria-labelledby="myModal3Label" aria-hidden="true"></div>

<div class="modal fade modal-s" id="ModalAlert" tabindex="-1" role="dialog" aria-labelledby="myModal3Label" aria-hidden="true"></div>

<script th:inline="javascript">

$(document).ready(function() {
	
	$('#mbrCpNumBtn').click(function() {
		
		console.log("mbrCpNumBtn");
		
		$.ajax({
			method: "POST",
			url: "/main/auth/phone"
		}).done(function(data) {
			document.memberInput.EncodeData.value = data;
			window.open('', 'popupChk', 'width=500, height=550, top=100, left=100, fullscreen=no, menubar=no, status=no, toolbar=no, titlebar=yes, location=no, scrollbar=no');
			document.memberInput.action = "https://nice.checkplus.co.kr/CheckPlusSafeModel/checkplus.cb";
			document.memberInput.target = "popupChk";
			document.memberInput.submit();
		});
	});

});

//휴대폰 인증 성공
function mainMobileAuthSuccess(returnValue) {
	$.ajax({
        type: "post",
        url: "/memberDuplicateCheck",
        data: {
        		mbrCpCertDi : returnValue
        },
        success: function(data) {
        	if(data > 0){
        		document.memberInput.mbrNm.value ="";
        		document.memberInput.mbrCpNum.value="";
        		document.memberInput.mbrCpCertYn.value="N";
        		document.memberInput.mbrCpCertDate.value="";
        		document.memberInput.mbrBirth.value="";
        		fn_validation('mbrNmCheck','이미 등록된 회원입니다.', 'R');
        	}else{
        		$("#mainSmsCertificationCheck").css('display',"block");
        		fn_validation('mainSmsCertificationCheck','휴대폰 인증완료.', 'B');
        		$("#mbrNmCheck").css('display',"none");
        		fn_validation('mbrNmCheck','', 'B');
        		document.memberInput.mbrCpCertDi.value=returnValue;
        	}
        },
        error: function(error) {
            alert("오류 발생" + error);
        }
	});	
}
//휴대폰 인증 실패
function mainMobileAuthFail() {
	 modalAlertShow("휴대폰 인증에 실패 하였습니다.","");
}

var sMbrSqVal = "";
var sAuthSqVal = "";
var artstSq = "";
var artstActvtyNm = "";
var artstEnglsNm = "";
var artstBirthYear = "";
var workSq = "";
var loginBf = document.getElementById("loginBf");
var loginAf = document.getElementById("loginAf");
//Session GET
jQuery(document).ready(function() {
	$.ajax({
        type: "post",
        url: "/loginSession",
        async: false,
        success: function(data) {
        	if (typeof data != "undefined" && data.sMbrSqVal != null) {
        		loginBf.setAttribute("style", "display:none;");
				loginAf.setAttribute("style", "");
				sMbrSqVal = data.sMbrSqVal;
				sAuthSqVal = data.sAuthSqVal;
        		$("#sMbrSqVal").val(data.sMbrSqVal);	
        		if(data.artstSq != null){
        			artstSq = data.artstSq;
        			artstActvtyNm = data.artstActvtyNm;
        			artstEnglsNm = data.artstEnglsNm;
        			artstBirthYear = data.artstBirthYear;
        		}
        	}else{
        		sMbrSqVal = data.sMbrSqVal;
				sAuthSqVal = data.sAuthSqVal;
        		loginBf.setAttribute("style", "");
				loginAf.setAttribute("style", "display:none;");
        	}
        },
        error: function(error) {
            alert("오류 발생" + error);
        }
	})
});

//로그인 기능
function login(){
	var loginId = $("#txt_Id").val();
	var loginPw = $("#txt_Pw").val();
	var autoLoginYn = $("input[name='autoLoginYn']:checked").val();
	if(loginId == null || loginId == "" || loginId == undefined){
		modalAlertShow("아이디가 입력되지 않았습니다.", "txt_Id");
	}else if(loginPw == null || loginPw == "" || loginPw == undefined){
		modalAlertShow("비밀번호가 입력되지 않았습니다.", "txt_Pw");
	}else{
		$.ajax({
			url:"/login",
			type:"post",
			data: {
				loginId : loginId,
				loginPw : loginPw,
				autoLoginYn : autoLoginYn
			},
			dataType:"json",
			success:function(data){
				var login = data.login;
				if(login == 1){
					modalAlertShow("성공적으로 로그인이 되었습니다.", "main");
					$('#loginModal').modal("hide");
					$("#sMbrSqVal").val(data.sMbrSqVal);
					sMbrSqVal = data.sMbrSqVal;
					sAuthSqVal = data.sAuthSqVal;
					loginBf.setAttribute("style", "display:none;");
					loginAf.setAttribute("style", "");
					if(data.artstSq != null){
	        			artstSq = data.artstSq;
	        			artstActvtyNm = data.artstActvtyNm;
	        			artstEnglsNm = data.artstEnglsNm;
	        			artstBirthYear = data.artstBirthYear;
	        		}
				}else if (login == 2){
					modalAlertShow("탈퇴한 회원입니다.");
					sMbrSqVal = data.sMbrSqVal;
					sAuthSqVal = data.sAuthSqVal;
					loginBf.setAttribute("style", "");
					loginAf.setAttribute("style", "display:none;");
				}else if (login == "nonId"){
					modalAlertShow("존재하지 않는 아이디입니다.");
					sMbrSqVal = data.sMbrSqVal;
					sAuthSqVal = data.sAuthSqVal;
					loginBf.setAttribute("style", "");
					loginAf.setAttribute("style", "display:none;");
				}else if (login == "nonPwd"){
					modalAlertShow("비밀번호가 틀립니다.");
					sMbrSqVal = data.sMbrSqVal;
					sAuthSqVal = data.sAuthSqVal;
					loginBf.setAttribute("style", "");
					loginAf.setAttribute("style", "display:none;");
				}
			},
			error: function(request, status, error){
                alert("code: "+request.status+"\n"+"message: "+request.responseText+"\n"+"error: "+error);
            }
			
		});
	}
}
//로그아웃
function logout(){
	$.ajax({
		url:"/logout",
		type:"post",
		success:function(data){
			if(data != null && data != ""){
				sMbrSqVal = null;
				loginBf.setAttribute("style", "");
				loginAf.setAttribute("style", "display:none;");3
				sessionStorage.clear();
				modalAlertShow("로그아웃 되었습니다.", "main");
	    	}
		},
		error: function(request, status, error){
        	alert("code: "+request.status+"\n"+"message: "+request.responseText+"\n"+"error: "+error);
        }
		
	});
}


//Modal Call Form Reset
$('#memberModal').on('show.bs.modal', function (e) {
	
	$("#memberInput")[0].reset();
	
	fn_validation('mbrIdCheck','주로 사용하는 이메일을 입력해 주세요. 경매/판매 내역을 발송해 드립니다.', 'B');
	fn_validation('mbrPwdCheck','', 'B');
	fn_validation('mbrPwdReCheck','확인을 위해 새 비밀번호를 다시 입력해주세요.', 'B');
	fn_validation('mbrNmCheck','', 'B');
	
});

//회원가입
$("#memberInputBtn").on('click', function(event){

	//회원아이디
	var mbrId = $("#mbrId").val();
	//비밀번호
	var mbrPasswrd = $("#mbrPasswrd").val();
	//비밀번호 확인
	var mbrPasswrdConfirm = $("#mbrPasswrdConfirm").val();
	//성명
	var mbrNm = $("#mbrNm").val();
	//생년월일
	var mbrBirth = $("#mbrBirth").val();
	//휴대번호
	var mbrCpNum = $("#mbrCpNum").val();
	//휴대폰 본인인증 여부
	var mbrCpCertYn = $("#mbrCpCertYn").val();
	//휴대폰 본인인증 날짜
	var mbrCpCertDate = $("#mbrCpCertDate").val();
	//휴대폰 본인인증 DI
	var mbrCpCertDi = $("#mbrCpCertDi").val();
	//소셜 회원 로그인 구분
	var mbrSocialSort = "GEN";
	
	if(isEmpty(mbrId)) {
		fn_validation('mbrIdCheck','이메일을 입력해주세요.', 'R');
		return;
	} 
	if(!CheckEmail(mbrId)) {
		fn_validation('mbrIdCheck','이메일을 올바르게 입력해주세요.', 'R');
		return;
	}
	//비밀번호--------------------------------------------------------------------//
	if(isEmpty(mbrPasswrd)) {
		$('#mbrPwdCheckU').css('color','red');
		$('#mbrPwdCheckD').css('color','#999999');
		return;
	} 
	if(!/^[a-zA-Z0-9!@#$%^&*()?_~]{8,20}$/.test(mbrPasswrd))
	{
		$('#mbrPwdCheckU').css('color','red');
		$('#mbrPwdCheckD').css('color','#999999');
		return;
	}
	var chk = 0;
	if(mbrPasswrd.search(/[0-9]/g) != -1 ) chk ++;
	if(mbrPasswrd.search(/[a-z]/ig)  != -1 ) chk ++;
	if(mbrPasswrd.search(/[!@#$%^&*()?_~]/g)  != -1  ) chk ++;
	if(chk < 2)
	{
		$('#mbrPwdCheckU').css('color','red');
		$('#mbrPwdCheckD').css('color','#999999');
		return;
	}
	 
	 var SamePass_0 = 0; //동일문자 카운트
	 var SamePass_1 = 0; //연속성(+) 카운드
	 var SamePass_2 = 0; //연속성(-) 카운드
	 
	 var chr_pass_0;
	 var chr_pass_1;
	 
	 for(var i=0; i < mbrPasswrd.length; i++) {
	  chr_pass_0 = mbrPasswrd.charAt(i);
	  chr_pass_1 = mbrPasswrd.charAt(i+1);
	 
	  //동일문자 카운트
	  if(chr_pass_0 == chr_pass_1) {
	   SamePass_0 = SamePass_0 + 1
	  } // if
	 
	 
	  //연속성(+) 카운드
	  if(chr_pass_0.charCodeAt(0) - chr_pass_1.charCodeAt(0) == 1) {
	   SamePass_1 = SamePass_1 + 1
	  } // if
	 
	  //연속성(-) 카운드
	  if(chr_pass_0.charCodeAt(0) - chr_pass_1.charCodeAt(0) == -1) {
	  	SamePass_2 = SamePass_2 + 1
	  } // if
	 } // for
	 
	 if(SamePass_0 > 1) {
		 $('#mbrPwdCheckU').css('color','#999999');
		 $('#mbrPwdCheckD').css('color','red');
		 return;
	 } // if
	 
	 if(SamePass_1 > 1 || SamePass_2 > 1 )  {
		 $('#mbrPwdCheckU').css('color','#999999');
		 $('#mbrPwdCheckD').css('color','red');
		 return;
	 }
	
	 // 비밀번호 아이디 포함 여부
	 if(mbrPasswrd.search(mbrId)>-1)
	 {
		 $('#mbrPwdCheckU').css('color','#999999');
		 $('#mbrPwdCheckD').css('color','red');
		  return;
	 }
	
	 $('#mbrPwdCheckU').css('color','#999999');
	 $('#mbrPwdCheckD').css('color','#999999');
	 
	 
	//비밀번호.비밀번호확인 일치 체크 mbrPwdReCheck
	if(mbrPasswrd != mbrPasswrdConfirm) {
		fn_validation('mbrPwdReCheck','비밀번호가 일치 하지 않습니다.', 'R');
		return;
	}
	
	fn_validation('mbrPwdReCheck','확인을 위해 새 비밀번호를 다시 입력해주세요.', 'B');
	
	//비밀번호--------------------------------------------------------------------//
	
	 if(isEmpty(mbrNm)) {
		 fn_validation('mbrNmCheck','이름을 정확히 입력하세요', 'R');
		 return;
	 }
	 fn_validation('mbrNmCheck','', 'B');
	
	//휴대폰번호
	 if(isEmpty(mbrCpNum)) {
		 fn_validation('mbrCpNumCheck','휴대폰번호를 정확히 입력하세요.', 'R');
		 return;
	 }
	 
	fn_validation('mbrCpNumCheck','', 'B');
	
	//휴대폰본인인증 여부
	if(mbrCpCertYn == 'N') {
		$("#mainSmsCertificationCheck").show();
		fn_validation('mainSmsCertificationCheck','휴대폰 본인 인증을 해주세요.', 'R');
		return;
	}
	 
	 let memParams = {
		  "mbrId" : mbrId,
		  "mbrPasswrd" : mbrPasswrd,
		  "mbrNm" : mbrNm,
		  "mbrBirth" : mbrBirth,
		  "mbrCpNum" : mbrCpNum,
		  "mbrCpCertYn" : mbrCpCertYn,
		  "mbrCpCertDate" : mbrCpCertDate,
		  "mbrCpCertDi" : mbrCpCertDi,
		  "mbrSocialSort" : mbrSocialSort
	 }
	 
	 
	 $.ajax({
	     type: "post",
	     url: "main/memberInsertData",
	     data: memParams,
	     success: function(data) {
	    	 modalAlertShow("회원가입이 완료 되었습니다.","memberInput");
	   	 },
	     error: function(error) {
	  	   var errorJson = JSON.stringify(error);
	         console.log(errorJson);
	     }
	})
	
	
});

//이메일 형식 체크
function CheckEmail(str) {                                                 
	var reg_email = /^([0-9a-zA-Z_\.-]+)@([0-9a-zA-Z_-]+)(\.[0-9a-zA-Z_-]+){1,2}$/;

     if(!reg_email.test(str)) {                            
		return false;         
	} else {                       
        return true;         
    }                            
}                         

//아이디 중복 체크
$("#mbrId").blur(function() {
	var dataCheckCount = {};
	
	var mbrIdParam = $("#mbrId").val();
	
	if(mbrIdParam) {
	
		let param = {
			mbrId : mbrIdParam
		}
		
		$.ajax({
			   type: "post",
			   url: "/myPage/memberIdChkData",
			   data: param,
			   success: function(data) {
				   
				dataCheckCount = data.memberCheck.memberIdCheck[0];
				
				console.log("dataCheckCount :"+dataCheckCount);
				
				if(dataCheckCount > 0) {
								
					var msg = "이미 가입된 이메일 주소입니다. 다른 이메일을 입력해 주세요.";
					
					fn_validation('mbrIdCheck',msg, 'R');
					fn_validation('mbrPwdCheck','', 'B');
					fn_validation('mbrPwdReCheck','확인을 위해 새 비밀번호를 다시 입력해주세요.', 'B');
					fn_validation('mbrNmCheck','', 'B');
					$('#mbrPwdCheckU').css('color','#999999');
					$('#mbrPwdCheckD').css('color','#999999');
					
					return;
				
				} else {
					
					if(!CheckEmail(mbrIdParam)) {
						$('#mbrIdCheck').html('이메일을 올바르게 입력해주세요.');
						$('#mbrIdCheck').css('color','red');
					} else {
						var msg = "주로 사용하는 이메일을 입력해 주세요. 경매/판매 내역을 발송해 드립니다.";
						fn_validation('mbrIdCheck',msg, 'B');	
					}
					
					return;
				}
			   },
			   error: function(error) {
				   var errorJson = JSON.stringify(error);
			       //alert("오류 발생" + errorJson);
			       console.log(errorJson);
			   }
			})
	} else {
		
		var msg = "주로 사용하는 이메일을 입력해 주세요. 경매/판매 내역을 발송해 드립니다.";
		
		fn_validation('mbrIdCheck',msg, 'B');
		
		return;
		
	}
});


function fn_validation(inputId,msg,color) {
		
	$('#'+inputId).empty();
	
	$('#'+inputId).html(msg);
	
	if(color == 'R') {
		$('#'+inputId).css('color','red');	
	} else {
		$('#'+inputId).css('color','#999999');
	} 
	
	
}

$("#autocomplete").hide();
function ibx_search_onkeyup(e){
	var wordLength = $("#ibx_search").val().trim().length;
	var ibx_search_value = $("#ibx_search").val();
	console.log(ibx_search_value)
	if(wordLength > 1){
		$.ajax({
			url:"/totalSearchAutocomplete",
			type:"post",
			data: {
				//searchKeyword : "*"+$("#ibx_search").val()+"*"
				searchKeyword : ibx_search_value
			},
			dataType:"json",
			success:function(data){
				$("#work").empty();
				$("#artst").empty();
				var work = data.result.work;
				var artist = data.result.artist;
				var workHtml = '';
				var artstHtml = '';
				
				for(i=0; i<work.length; i++){
					workHtml +=	'<li><a href="javascript:void(0);" class="work" sq="'+work[i].workSq+'">'+work[i].workNm+'('+work[i].workProdcYear+')'+' - '+work[i].artstActvtyNm+'</a></li>';
				}
				$("#work").append(workHtml).trigger("create");
				
				for(i=0; i<artist.length; i++){
					artstHtml += '<li><a href="javascript:void(0);" class="artst" sq="'+artist[i].artstSq+'">'+artist[i].artstActvtyNm+' ('+artist[i].artistBirthYear+')</a></li>';
				}
				$("#artst").append(artstHtml).trigger("create");
				$("#autocomplete").show();
				
				
			},
			error: function(request, status, error){
                alert("code: "+request.status+"\n"+"message: "+request.responseText+"\n"+"error: "+error);
            }
			
		});

	}
}
     
$(document).on("click",".work",function(){
	var workSq= $(this).attr("sq");
	fnModalAlert();
	/* pageGoPost({
		url:"/bidding",
		target:"_self",
		vals:[
			["workSq", workSq]
		]
	}); */
});

$(document).on("click",".artst",function(){
	var artstSq= $(this).attr("sq");
	pageGoPost({
		url:"/artistDetail",
		target:"_self",
		vals:[
			["artstSq", artstSq]
		]
	});
});

$(document).on("click",".workMore",function(){
	fnModalAlert();
	/* if($("#ibx_search").val() == null || $("#ibx_search").val() == ""){
		modalAlertShow("검색 키워드를 입력해주세요.", "ibx_search");
	}else{
		modalConfirm("알림", "작품 검색 결과 페이지로 이동하겠습니까?", function(confrim){
			if(confrim){
				pageGoPost({
					url:"/totalSearch_work",
					target:"_self",
					vals:[
						["searchKeyword", $("#ibx_search").val()]
					]
				});
			}
		});
	} */
});

$(document).on("click",".artistMore",function(){
	if($("#ibx_search").val() == null || $("#ibx_search").val() == ""){
		modalAlertShow("검색 키워드를 입력해주세요.", "ibx_search");
	}else{
		modalConfirm("알림", "작가 검색 결과 페이지로 이동하겠습니까?", function(confrim){
			if(confrim){
				pageGoPost({
					url:"/totalSearch_artist",
					target:"_self",
					vals:[
						["searchKeyword", $("#ibx_search").val()]
					]
				});
			}
		});
	}
	
});

$(document).on("click",".contentMore",function(){
	alert("컨텐츠 검색 결과 페이지로 이동합니다"); 
});

function btn_search_onclick(){

	var searchKeyword = $("#ibx_search").val();
	
	if(searchKeyword == null || searchKeyword == ""){
		alert("검색어가 입력되지 않았습니다");
	}else{
		pageGoPost({
			url:"/totalSearch_artist",
			target:"_self",
			vals:[
				["searchKeyword", searchKeyword]
			]
		});
	}
	
}
$(document).on("click", ".myWork", function(){
	
	if(sAuthSqVal != "2"){
		modalAlertShow("작가로 등록된 회원만 이용할 수 있습니다.");
	}else{
		pageGoPost({
			url:"/myWork",
			target:"_self",
			vals:[
				["artstSq", artstSq]
			]
		});
	}
});
$(document).on("click", ".myCollection", function(){
	pageGoPost({
		url:"/myCollection",
		target:"_self",
		vals:[
			["mbrSq", sMbrSqVal]
		]
	});
});
$(document).on("click", ".scrap", function(){
	pageGoPost({
		url:"/scrap",
		target:"_self",
		vals:[
			["mbrSq", sMbrSqVal]
		]
	});
});
$(document).on("click", ".workReg", function(){
	if(sAuthSqVal != "2"){
		modalAlertShow("작가로 등록된 회원만 이용할 수 있습니다.");
	}else{
		modalConfirm("알림", "나의 작품 등록 페이지로 하시겠습니까?", function(confrim){
			if(confrim){
				window.location.href = "/myWork_reg";
			}
		});
	}
});
//Input Box Null Check
function isEmpty(str){
    
    if(typeof str == "undefined" || str == null || str == "")
        return true;
    else
        return false ;
}

function fnModalAlert() {
	modalAlertShow("서비스 준비중 입니다.","");
}


</script>

</body>
</th:block>
</html>
